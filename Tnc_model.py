# -*- coding: utf-8 -*-
"""Untitled4.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1u_eSpK3gNROCeO7jrU9YBEDbBppY-XBG
"""

!unzip /content/HackTrinty.zip

import os

# Path to the main folder containing subfolders with .md files
main_folder_path = "/content/HackTrinty"

# Function to read all .md files in subdirectories
def read_markdown_files(main_folder_path):
    tnc_texts = []
    # Walk through the directory structure
    for root, dirs, files in os.walk(main_folder_path):
        for file in files:
            if file.endswith(".md"):
                file_path = os.path.join(root, file)
                with open(file_path, 'r', encoding='utf-8') as f:
                    tnc_text = f.read()
                    tnc_texts.append(tnc_text)
    return tnc_texts

# Get all T&C content from markdown files
tnc_texts = read_markdown_files(main_folder_path)

len(tnc_texts)

tnc_texts[11]

from transformers import pipeline

# ner_tagger = pipeline("ner", aggregation_strategy="simple")
# ner_tagger = pipeline("ner", model="alvaro/legal-ner", aggregation_strategy="simple")
ner_tagger = pipeline("ner", model="Jean-Baptiste/roberta-large-ner-english", aggregation_strategy="simple")

outputs = ner_tagger(tnc_texts[11])

import pandas as pd
import numpy as np
pd.DataFrame(outputs)

legal_keywords = [
    "data protection", "GDPR", "third-party", "privacy policy",
    "Data Protection Act 2018", "ePrivacy", "data retention", "subject access request",
    "right to rectification", "right to erasure", "right to restrict processing",
    "right to data portability", "right to object", "profiling", "consent", "cookies",
    "cross-border data transfer", "Data Protection Commission", "personal data",
    "special categories of data", "automated decision-making", "processing", "data controller",
    "data processor", "breach notification", "consent withdrawal", "lawful basis",
    "legitimate interests", "children's data", "pseudonymization", "anonymization",
    "encryption", "data minimization", "third-party data sharing", "international data transfer",
    "accountability", "security measures", "cookie consent", "rights of the data subject"
]

import re

def custom_ner(text, keywords):
    detected_entities = []

    # Loop through the keywords and search in text
    for keyword in keywords:
        # Use regex to find all matches
        matches = [(m.start(), m.end(), keyword) for m in re.finditer(re.escape(keyword), text, re.IGNORECASE)]
        detected_entities.extend(matches)

    # Format the output similar to Hugging Face's NER
    entities = []
    for start, end, keyword in detected_entities:
        entities.append({
            "word": text[start:end],
            "start": start,
            "end": end,
            "entity": "LEGAL_KEYWORD"
        })

    return entities

legal_entities = custom_ner(tnc_texts[11], legal_keywords)
pd.DataFrame(legal_entities)

"""## Score deciding:

if matches legal word list. Now here each word will give it +1xconfidence score or -1xconfidence score based on whether its good in tnc or not
"""

reader = pipeline("question-answering")
question= "is the gdpr good for data protection?"
outputs= reader(question=question, context = tnc_texts[11][12999:13023])
outputs

tnc_texts[11][500:600]

from transformers import pipeline

# Load a specific summarization model
summarizer = pipeline("summarization", model="t5-small")

# Summarize the text
outputs = summarizer(tnc_texts[11][18350:18450], max_length=20, clean_up_tokenization_spaces=True)
print(outputs)

outputs[0]['summary_text']

# tnc_texts[11][1000:1200]

tnc_texts[11][18350:18450]

"""## Perplexity"""

!pip install requests

prompt='''
based on the below text, provide a  score on how safe the terms and conditions are. 100 being safe. judge based on legal and liability protection and data privacy.
also provide a synopsis for the major points.
Only show 3 most important points each with 30 words or less. also just give the score. Point must be related to words in this array:
legal_keywords = [
    "data protection", "GDPR", "third-party", "privacy policy",
    "Data Protection Act 2018", "ePrivacy", "data retention", "subject access request",
    "right to rectification", "right to erasure", "right to restrict processing",
    "right to data portability", "right to object", "profiling", "consent", "cookies",
    "cross-border data transfer", "Data Protection Commission", "personal data",
    "special categories of data", "automated decision-making", "processing", "data controller",
    "data processor", "breach notification", "consent withdrawal", "lawful basis",
    "legitimate interests", "children's data", "pseudonymization", "anonymization",
    "encryption", "data minimization", "third-party data sharing", "international data transfer",
    "accountability", "security measures", "cookie consent", "rights of the data subject"
]
 The format for output must be:

score
point 1
point 2
point 3
@workflow.input_text
'''

# import requests

# # Define the API endpoint and your API key
# url = "https://api.perplexity.ai/v1/generate"
# api_key = "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"  # Replace with your actual API key

# # Set up the headers with your API key
# headers = {
#     "Authorization": f"Bearer {api_key}",
#     "Content-Type": "application/json"
# }

# # Define the data payload with your prompt
# data = {
#     "prompt": prompt.join(tnc_texts[11]),
#     "model": "Llama2 13B"  # Specify the model you want to use
# }

# # Make a POST request to the API
# response = requests.post(url, headers=headers, json=data)

# # Check if the request was successful
# if response.status_code == 200:
#     generated_text = response.json().get("text")
#     print("Generated Text:", generated_text)
# else:
#     print("Error:", response.status_code, response.text)



# Llama2 13B

!pip install openai

from openai import OpenAI

YOUR_API_KEY = "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"

messages = [
    {
        "role": "system",
        "content": (
            '''
            based on GDPR (General Data Protection Regulation) https://gdpr-info.eu/issues/personal-data/ ,
data privacy, indemnity, responsibility of liability decide if the terms of conditions are good or not. assign a score and summarize the
problems in the terms and conditions.

Output Objective: You must generate the output as follows:
1 ) Mean Risk Score
2) Summarize the problems in terms and conditions and tell what is wrong.
            '''
        ),
    },
    {
        "role": "user",
        "content": (
           tnc_texts[11]
        ),
    },
]

client = OpenAI(api_key=YOUR_API_KEY, base_url="https://api.perplexity.ai")

#-------------------------------


last_response_text = ""
response_stream = client.chat.completions.create(
    model="llama-3.1-sonar-small-128k-chat",
    messages=messages,
    stream=True,
)

response_array=[]
for response in response_stream:
  response_array.append(response)
last_rep=str(response_array[-1])
index= last_rep.find("###")
# last_rep[index:]

last_rep[index:]

from transformers import pipeline

# Load a specific summarization model
summarizer = pipeline("summarization", model="t5-small")

# Summarize the text
outputs = summarizer(last_rep[index+31:], max_length=100, clean_up_tokenization_spaces=True)
print(outputs)

outputs[0]["summary_text"]

response_x ="'**Score: 80**\n\n**Point 1: Data Protection and Privacy**\nThe agreement includes provisions for data protection under GDPR and Irish data protection laws, ensuring that personal data is collected, processed, and used in compliance with these regulations. The Transport Operator must comply with GDPR obligations and keep personal data confidential.\n\n**Point 2: Liability and Indemnification**\nThe Transport Operator is fully responsible for its activities and indemnifies FREE NOW against all losses arising from breaches of Applicable Laws or Road Safety Laws. This includes liability for defective performance, breach of obligations, and any damage caused by Employed Drivers.\n\n**Point 3: Intellectual Property Rights**\nFREE NOW grants a limited license to the Transport Operator to use Intellectual Property Rights solely for providing Transportation Services. The Transport Operator must not use or modify Intellectual Property Rights without prior consent and must maintain their validity and enforceability.\n\n'})]"

# response.get('text')

# response_stream

response_stream

x=None
for response in response_stream:
  print(response)
  # last_response_text = response.get('text', '')

response_array=[]
for response in response_stream:
  response_array.append(response)
last_rep=str(response_array[-1])
index= last_rep.find("###")
last_rep[index:]

last_rep=str(response_array[-1])

index= last_rep.find("###")
end_ind = last_rep[index:].find("\\n")
last_rep[index+21:index+end_ind]

end_ind = last_rep[index:].find("\\n")

last_rep[index+21:index+end_ind]

index

from transformers import pipeline
import numpy as np
import pandas as pd
from openai import OpenAI
import json

def GenerateScoreAndSummary(tnc_doc):
  YOUR_API_KEY = "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"
  messages = [
      {
          "role": "system",
          "content": (
              '''
              based on GDPR (General Data Protection Regulation) https://gdpr-info.eu/issues/personal-data/ ,
  data privacy, indemnity, responsibility of liability decide if the terms of conditions are good or not. assign a score and summarize the
  problems in the terms and conditions.Lower the score if above parameters are not mentioned.
  Output Objective: You must generate the output as follows:
  1 ) Mean Risk Score (give in whole numbers only)
  2) Summarize the problems in terms and conditions and tell what is wrong.
              '''
          ),
      },
      {
          "role": "user",
          "content": (
            tnc_doc
          ),
      },
  ]

  client = OpenAI(api_key=YOUR_API_KEY, base_url="https://api.perplexity.ai")


  last_response_text = ""
  response_stream = client.chat.completions.create(
      model="llama-3.1-sonar-small-128k-chat",
      messages=messages,
      stream=True,
  )

  response_array=[]
  for response in response_stream:
    response_array.append(response)

  last_rep=str(response_array[-1])
  index= last_rep.find("###")
  end_ind = last_rep[index:].find("\\n")
  score_text=  last_rep[index+21:index+end_ind]
  percentage= int(score_text[0])*10
  tnc_start_index = last_rep[index+end_ind:].find("\\n")
  summarizer = pipeline("summarization", model="t5-small")
  outputs = summarizer(last_rep[index+end_ind+ tnc_start_index:], max_length=100, clean_up_tokenization_spaces=True)

  output_json={
      "score": percentage,
      "short_summary": outputs[0]["summary_text"],
      "long_summary": last_rep[index+31:]

  }


  return output_json

"""temu_tnc='''
Temu | Terms of Use
Effective Date: February 17, 2024

Thank you for using Temu! These Terms of Use ("Terms") contain the rules and restrictions that govern your use of our applications, products, services and websites ("Services"). These Terms form a binding agreement between you and us. By completing the registration process and/or browsing the Services, you represent that (1) you have read, understand and agree to be bound by the Terms; (2) you are of legal age to form a binding contract with us; (3) you have the authority to enter into the Terms personally; and (4) if you are using the Services on behalf of a company or other entity, (a) you agree that “you” includes you and that entity, (b) you are an authorized representative of the entity with the authority to bind the entity to these Terms, and (c) you agree to these Terms on the entity’s behalf. You should not access or use the Services unless you agree to be bound by all of these Terms.

1. Overview
1.1 These Terms are between you and Whaleco UK Limited , a UK company.

1.2 Whaleco UK Limited  is referred to in these Terms and Policies (as defined below) as "we" or "us". For purposes of these Terms and Policies, we also refer to:

Our website and mobile apps, which may offer features, products, services or content, including exchanges of information, as “Temu” or “our app”;

End users, including visitors to Temu and those who use Temu to purchase products as "you."

1.3 We and our affiliates provide technical and operational support for our app. You may pay for multiple orders in one transaction on Temu. Multiple orders may be delivered together in one package.

1.4 Your use of, and participation in, certain Services is subject to additional policies(“Policies”). We update these Policies and publish new Policies as needed from time to time. If the Terms are inconsistent with the Policies, the Policies shall control with respect to the relevant subject matter.

1.5 We reserve the right to make modifications to these Terms that do not affect this Section 1.5 or our main performance obligations and are not equivalent to the conclusion of a new contract. Such modifications will be posted at the “Terms of use” links in the Temu website footer and in the “Settings” menu in the Temu app. The modifications will only form part of these Terms upon acceptance by you. We will inform you of modifications. If you do not object to the modified Terms within three weeks, you shall be deemed to have accepted. When we notify you regarding modifications to the Terms, we will inform you of the conditions under which they will be deemed accepted by you.

2. User Requirements and Registration
2.1 To use the Services, you represent that you are using the services solely for personal (non-commercial) use, and you are at least eighteen (18) years old and the age of majority as defined by applicable laws. Products for children's use may be sold on Temu. However, these products are intended for sale to adults. Certain products may be intended for individuals of certain ages or "mature audiences" only. By ordering such products, you certify that you are old enough to view, use, own, or receive them. We are not responsible for third-party content that you may find offensive, indecent, or objectionable.

2.2 You may not use the Services if: (a) you cannot enter into a binding contract with us; or (b) you are banned from using the Services by us for violating these Terms or based on other reasonable grounds.

2.3 You may be required to create an account, and select a password and user name. When creating your account on Temu (“Account”), you agree to provide true, accurate, complete, and updated information about yourself, including contact details. You are responsible for keeping your registration information with us up to date. You are responsible for all activities that occur under your Account. You agree that you shall monitor your Account to restrict use by minors, and you will accept full responsibility for any unauthorized use of the Services by minors which you enable or facilitate. You may not select as your user name a name that you don't have the right to use, or another person's name with the intent to impersonate that person. You may not transfer your Account to anyone else without our prior written permission. We reserve the right to suspend and ban users for breach of these Terms and our Policies. You agree not to create an Account or use the Services if you have been permanently banned from any of the Services. You may not share your Account or password with anyone, and you agree to notify us immediately of any unauthorized use of your password or any other breach of security and to exit from your Account at the end of each session. When you create an account, the details of the Account are displayed for confirmation prior to sending the registration request and you can correct registration information up until sending the request. We reserve the right to accept or reject all registration requests and Temu will have no liability to any person for refusing registration. The contract relating to your registration on Temu becomes valid when we confirm your registration via email or otherwise.

2.4 You may also register an Account by connecting through a social network service account and its credentials (an “SNS Account”). If you access the Services through a SNS as part of the functionality of the Services, you may link your Account with SNS Accounts by allowing us to access your SNS Account, as is permitted under the applicable terms and conditions that govern your SNS Account. You represent that you are entitled to grant us access to your SNS Account to use the Services without breach by you of any of the terms and conditions that govern your SNS Account and without obligating us to pay any fees or making us subject to any usage limitations imposed by such SNS. By granting us access to any SNS Accounts, you understand that we may, in accordance with our Policies, access, make available and store (if applicable) any Content (as defined below) that you have provided to and stored in your SNS Account (“SNS Content”) so that it is available on and through the Services via your Account. Unless otherwise specified in the Terms, all SNS Content shall be considered to be User Submissions (defined below) for all purposes of the Terms. Depending on the SNS Accounts you choose and subject to the privacy settings that you have set in such SNS Accounts, personal information that you post to your SNS Accounts may be available on and through your Account on the Services. Please note that if a SNS Account or associated service becomes unavailable, or our access to such SNS Account is terminated by the SNS, then SNS Content will no longer be available on and through the Services. You have the ability to disable the connection between your Account and your SNS Accounts at any time by accessing the “Settings” section of the Services. PLEASE NOTE THAT YOUR RELATIONSHIP WITH THE SNS PROVIDERS ASSOCIATED WITH YOUR SNS ACCOUNTS IS GOVERNED SOLELY BY YOUR AGREEMENT(S) WITH SUCH SNS PROVIDERS, AND WE DISCLAIM ANY LIABILITY FOR PERSONAL INFORMATION THAT MAY BE PROVIDED TO US BY SUCH SNS PROVIDERS IN VIOLATION OF THE PRIVACY SETTINGS THAT YOU HAVE SET IN SUCH SNS ACCOUNTS. We make no effort to review any SNS Content for any purpose, including but not limited to, for accuracy, legality or noninfringement, and we are not responsible for any SNS Content.

2.5 The applicable language of these Terms is the language version that corresponds to your chosen country/region on Temu.

2.6 The current version of these Terms shall always be displayed, and you are authorized to print or save electronic copies.

3. Rules and Restrictions
3.1 You agree to use the Services for your own use, and not on behalf of or for the benefit of any third party, and only in a manner that complies with these Terms, the Policies, and all laws and regulations applicable to you. If your use of the Services is prohibited by any applicable laws, then you are not authorized to use the Services. We are not responsible if you use the Services in a way that breaks the law.

3.2 You are liable for all damages caused by third-party use of your account unless you are not at fault for such third-party use. Therefore, you must protect the security of your account and password and not share them with any third party. You must notify us immediately of any unauthorized use or security breach of your account.

3.3 You must not create multiple accounts.

3.4 Any sweepstakes, contests, raffles, surveys, games, or similar promotions (collectively, "Promotions") made available through the Services may be governed by separate rules. If the rules for a Promotion conflict with these Terms, the Promotion rules will govern.

3.5 When using the Services, you agree and undertake to comply with our Community Guidelines and Review Guidelines and not to take any action or make available any User Submissions through the Services that may:

(1) infringe or violate another person’s rights, including intellectual property rights;

(2) violate any of these Terms, the Policies, our Community Guidelines or Review Guidelines or applicable laws and regulations;

(3) circumvent or attempt to circumvent any of these Terms, the Policies or other rules relating to the Services including the Promotions;

(4) constitute unauthorized or unsolicited advertising, or junk or bulk e-mail;

(5) collect personal data from other users or use any such information collected from the Services;

(6) engage in any conduct that is likely to cause a security breach of your account;

(7) obtain another user’s password, account, or other security information;

(8) use a third party's credentials, conceal your true IP address, or otherwise impersonate or misrepresent your identity or your affiliation with any person or entity;

(9) violate or interfere with the proper functioning or security of any computer network;

(10) run any form of auto-responder or "spam" on the Services, any process that runs or is activated while you are not logged into the Services, or any process that otherwise interferes with the proper functioning of the Services (including by placing an unreasonable load on the Services' infrastructure through overloading, “flooding,” “mail bombing” or crashing the Services);

(11) potentially harm the Services, including but not limited to the violation of any security features of the Services, use of manual or automated software or other means to access, "crawl," "scrape," or "spider" any page, data, or portion of or relating to the Services or the introduction of viruses, worms or similar harmful code into the Services;

(12) copy or store any significant portion of the content on the Services without written consent from us;

(13) decompile, reverse engineer, or otherwise obtain the source code or underlying ideas or information of or relating to the Services;

(14) buy any products which you are not legally allowed to purchase or use;

(15) abuse any promotions, discounts, or other benefits offered by us, or manipulate the price of any listed products or interfere with listings; or

(16) attempt to do anything, or permit, encourage, assist, or allow any third party to do anything, prohibited in this list.

In addition to any other remedies available to us, a violation of any of the foregoing is grounds for:

(1) removal or refusal to post any User Submission;

(2) cancellation of your purchases of products;

(3) cancellation of Rewards or payments due from us; and/or

(4) suspension or termination of your access or use the Services.

If we become aware of any possible violations by you of the Terms, we reserve the right to investigate such violations. If, as a result of the investigation, we believe that criminal activity has occurred, we reserve the right to refer the matter to, and to cooperate with, any and all applicable legal authorities. We are entitled to disclose any information or materials on or in the Services, including User Submissions, in our possession in connection with your use of the Services to (i) comply with applicable laws, legal process or governmental request; (ii) enforce the Terms and Policies, (iii) respond to any claims that a User Submission violates the rights of third parties, (iv) respond to your requests for customer service, or (v) protect the rights, property or personal safety of us, our users or the public, and all enforcement or other government officials, and (vi) as otherwise provided for in the Privacy Policy, as we reasonably believe to be necessary or appropriate and provided such disclosure is in compliance with applicable laws, including applicable data protection and privacy law.

4. Privacy
4.1 Our Privacy Policy provides information about how we collect, use, and disclose your personal information when you access, visit or use the Services. In connection with your use of the Services, you acknowledge that we may collect, access, use, preserve and disclose your personal information (including your account and user information) as described in these Terms and in our Privacy Policy, which you acknowledge you have read.

5. Communications
5.1 We will send you communications electronically, such as emails, texts, mobile push notices, and notices and messages on or through the Services (“Push Messages”), when you have given us your permission to send you such Push Messages in accordance with the standards required by applicable law. You acknowledge that, when you use the App, your wireless service provider may charge you fees for data, text messaging and/or other wireless access, including in connection with Push Messages. Please check with your wireless service provider to determine what fees apply to your access to and use of the Services, including your receipt of Push Messages from us. You are solely responsible for any fee, cost or expense that you incur to download, install and/or use the Services on your mobile device, including for your receipt of Push Messages. You also acknowledge and agree that all terms and conditions, agreements, notices, disclosures, and other communications and documents that we provide to you electronically constitute and shall have the same legal effect as “in writing.”

5.2 You agree that we may communicate with you at any email address or telephone number that you provide us, to: (i) notify you regarding your account; (ii) troubleshoot problems with your account; (iii) resolve a dispute; (iv) collect a debt; (v) poll your opinions through surveys or questionnaires; (vi) notify you regarding order, payment and delivery updates; (vii) send you authentication texts; or (viii) as otherwise necessary to service your Account or enforce these Terms, the Policies, applicable laws and regulations, or any other agreement we may have with you in accordance with your relevant permissions, settings and preferences as applicable. Standard text messaging charges applied by your cell phone carrier may apply to text messages that we send.

5.3 If you would like to receive our marketing materials via mobile texts and alerts or by email, you may sign up to do so. When you have given us your permission where necessary and in accordance with the standards required by law we will send you promotional messages, which may include one-time passcodes, notifications regarding your orders, our promotional messages, and abandoned cart reminders (enabled by using cookies we collect as described in these Terms) at the mobile number you provide us. Opting in for a program does not entail automatic opt-in for another. You will be given the option to opt out of marketing materials. Message frequency varies and carriers are not liable for any delays or undelivered messages. Message and Data Rates may apply. You are not required to receive marketing texts as a condition of using the Services.

5.4 Our communications with you may be through a third-party service provider. You acknowledge that, subject to our Privacy Policy, your communications with us or our agents may be recorded, monitored and stored for quality control and training purposes, or to protect your, a third party and/or our interests.

6. User Submissions
6.1 “User Submission” means anything posted, uploaded, shared, or submitted, by you through the Services, including suggestions, comments, reviews, ratings, photos, videos, or other feedback or materials, and may be viewable by other users.

For all User Submissions, you grant us a fully paid, royalty-free non-exclusive, transferable, sublicensable, worldwide right (including any moral rights) and license to use, license, store, display, reproduce, save, modify (e.g. to make sure the User Submission is viewable on different systems and devices), create derivative works, publicly perform, publicly display, distribute, translate, or otherwise act with respect to such User Submissions as we determine is necessary to operate, market, and advertise the Services, including to present, display, or perform such User Submissions in accordance with your preferences, always in accordance with applicable data protection law.

6.2 You acknowledge and agree that all User Submissions (including the user name under which you made them) are non-confidential and non-proprietary (but excluding your communications directly with Temu for the purposes of making a report or complaint or resolving service issues which will be treated as confidential).

6.3 You warrant that you own or otherwise control all rights to the User Submissions and that our use of any User Submission will not infringe upon or violate the rights of any third party or violate any of the rules and restrictions contained in these Terms (including those included in Section 3 herein).

6.4 We do not endorse User Submissions and they do not represent our views. We expressly disclaim any liability for User Submissions or damages resulting from them. We expect users to maintain a high level of integrity when submitting User Submissions that are viewable by other users, especially with respect to ratings and reviews of products. You undertake that the User Submissions that are viewable by other users are made truthfully in good faith and based only on your first-hand experience. You further undertake that you will prominently indicate if a User Submission was sponsored or paid for in any way. You acknowledge that we have no obligation to pre-screen User Submissions, although we reserve the right to pre-screen, refuse, exclude or remove any User Submission. By entering into these Terms, you hereby provide your irrevocable consent to such monitoring. In the event that we pre-screen, refuse, exclude or remove any User Submissions, you acknowledge that we will do so for our benefit, not yours. Without limiting the foregoing, we shall have the right to remove any User Submissions that violate the Terms or are otherwise objectionable.

7. Ownership
7.1 You acknowledge and agree that materials displayed, performed, or available on or through the Services, including, but not limited to, text, graphics, data, articles, photos, images, illustrations and User Submissions (collectively, "Content") may be protected by copyright and/or other intellectual property laws throughout the world. You undertake to comply with all copyright notices, trademark rules, information, and restrictions contained in the Content, and not to copy, reproduce, modify, translate, publish, broadcast, transmit, distribute, perform, upload, display, license, sell, or otherwise use for any purpose any Content not owned by you without the prior consent of the owner of that Content.

7.2 We respect others' intellectual property rights, and we reserve the right to delete or disable Content alleged to be infringing upon another person’s intellectual property rights and to terminate the accounts of the alleged infringers. See our Intellectual Property Policy to learn how to report potentially infringing Content.

7.3 You acknowledge and agree that we own or license the Services. You undertake not to modify, publish, transmit, participate in the transfer or sale of, reproduce, create derivative works based on, or otherwise exploit any of the Services, except as expressly provided in this Section 7.

7.4 Subject to your compliance with these Terms and all applicable policies, rules, and guidelines, and your payment of any applicable fees, we or our content providers grant you a limited, non-exclusive, non-transferable, non-sublicensable license to access and make personal and non-commercial use of the Services for the sole purpose of using Temu. All rights not expressly granted to you in these Terms or any policies or guidelines are reserved and retained by us or our licensors, suppliers, publishers, rightsholders, or other content providers. The licenses granted by us terminate if you do not comply with these Terms or any applicable policies, rules, or guidelines.

7.5 You may not make any commercial use of any of the information provided on the Services or make any use of the Services for the benefit of another business unless explicitly permitted by us in advance. You may not solicit, advertise for, or contact in any form users for employment, contracting or any other purpose not related to the Services facilitated through Temu. If you violate this provision, we reserve the right to refuse service, terminate accounts, and/or cancel purchase transactions in our discretion.

8. Responsibilities; Third Party Risks
8.1 You acknowledge and agree that any Content publicly posted or privately transmitted through the Services is the sole responsibility of the person that posted or transmitted such Content. You access and use the Content, and interact with other users, at your own risk. We are not responsible for any errors, mistakes, omissions, inaccuracies in the Content. We do not control the Content and have no duty to take any action regarding how you may interpret, use or react to the Content. We have no obligation to review or monitor, and do not approve, endorse, or make any representations or warranties with respect to, Content. You also understand that we cannot guarantee the identities of the users with whom you interact while using the Services and are not responsible for which users gain access to the Services.

8.2 You are responsible for all Content you contribute, in any manner, to the Services, and you represent and warrant you have all rights to contribute such Content to the Services in such manner.

8.3 The Services may contain links or connections to third-party websites or services that are not owned or controlled by us. We have no control over, and assume no responsibility for, the content, accuracy, privacy policies, or practices of or opinions expressed in any third-party websites or services. In addition, we will not and cannot monitor, verify, censor, or edit the content of any third-party website or service. You acknowledge and agree that we are not responsible for any risks resulting from your access or use of any third party websites or services. We encourage you to be aware when you leave the Services and to read the terms of use and privacy policy of each third-party website or service that you visit or use.

8.4 Your interactions with other users, other entities or individuals as a result of your use of the Services, including communications, payments, performances and deliveries, are solely between you and such third parties; provided, however, that we reserve the right, but have no obligation, to intercede in such interactions. You should make whatever investigation and/or seek whatever professional advice as you feel necessary or appropriate before proceeding with any interaction with any of these third parties. You acknowledge and agree that we are not responsible for any loss or damage incurred as the result of such interactions. You agree that we will not be responsible for any liability incurred as the result of such interactions.

8.5 It is a material breach of these Terms to arrange for the sale of listed items from, or the payment of fees to, third parties outside the context of Temu for the purposes of circumventing the obligation to pay the fee for products purchased through the Services.

9. Disclaimer
9.1 We are not liable for any claims or disputes that may arise between users of Temu. If there is a dispute between you and another user, or any third party on Temu, we are under no obligation to become involved.

10. Purchases
10.1 You are responsible for reading the full product listing before purchasing a product. By confirming your purchase, you agree to pay all applicable fees, taxes, shipping costs and other amounts associated with your purchase. Further, to the extent applicable, you acknowledge your responsibility for sales tax, VAT and customs duties. When you place an order and the order is being shipped to you, the title for product pass to you upon delivery of the product to the carrier. You agree that, where applicable, you will act as the importer of the products purchased and you hereby authorize us to appoint a freight forwarding agent to act as your direct representative and pay any sales tax, VAT and customs duties on your behalf. Please note that sales tax, VAT, customs duties, and similar charges collected at the time of purchase are estimated values and may be subject to change depending on applicable laws. If additional amounts are assessed, you are responsible for them. We will not be liable if a product is delayed or denied customs clearance as a result of your failure to pay such amounts.

10.2 While we strive to provide accurate information on Temu, typographical errors, inaccuracies, or omissions that relate to pricing, product descriptions, availability, and offers may occur. Subject to applicable law, we reserve the right to correct any errors, inaccuracies, or omissions and to change or modify information or cancel orders or parts of orders if any information on Temu is inaccurate at any time without prior notice, including after your order has been submitted or your receipt of an order confirmation or shipping notice. You should not rely on the strike-through price in your purchase decision. If comparing prices is important to your purchase decision, you should do your own comparison before making a purchase.

10.3 Please check all descriptions and restrictions regarding the product you are interested in thoroughly before you place your order. If you have any special circumstance (e.g., a medical or health condition and/or special need) that may affect or be affected by the product you wish to purchase, it is solely your responsibility to inform us before you place your order.

10.4 We make reasonable efforts to ensure the colour display of the products on Temu is as accurate as possible. However, we cannot guarantee that your monitor’s display of any colour will be an accurate depiction of the colour of the product you selected to purchase.

10.5 You acknowledge that the products are in conformity with the transaction or intended purchase if they: (i) comply with the description provided on Temu and possess the qualities presented on Temu; (ii) are fit for the purposes for which goods of such kind are normally used; and (iii) are of the quality and performance which are normal in goods of the same type and which can reasonably be expected. National consumer laws provide you with a legal guarantee that the Services will be in legal conformity. Under this legal guarantee, we will be liable for any lack of conformity of the Services.  You may have a right under your local laws to (a) have the Services brought into conformity, or (b) terminate the contract.

10.6 In order to make purchases, you must provide accurate and complete information for a valid payment method, such as a credit card, that you are authorized to use. You must promptly update your account with any changes related to your payment method. BY PROVIDING INFORMATION FOR A PAYMENT METHOD AND APPROVING A SPECIFIC PURCHASE PAYMENT, YOU AUTHORIZE US OR OUR AGENTS OR PAYMENT SERVICE PROCESSORS TO CHARGE THE PAYMENT METHOD FOR: (A) AMOUNTS DUE FOR THE SPECIFIC PRODUCTS WHICH YOU ARE SEEKING TO PURCHASE; (B) ANY AND ALL APPLICABLE CUSTOMS, TAXES AND SHIPPING COSTS; AND (C) ANY OTHER CHARGES INCURRED IN CONNECTION WITH YOUR USE OF THE SERVICES AS SUMMARISED PRIOR TO YOUR APPROVAL OF THE PAYMENT. We may decline, freeze or hold your transaction for any reason, including for suspected fraud, anti-money laundering and sanctions compliance, or if we believe your transaction poses a risk to us or any third party.

10.7 Payment Processors may charge you fees for your purchases made through Temu. Such processing fees will be disclosed to you via Temu. Your use of the Services and the payment processing provided by the Payment Processor is subject to your agreement with the Payment Processor, as may be modified from time to time. As a condition of using the payment services, you must provide accurate and complete information, and you authorize us to share this information with the Payment Processor.

10.8 Your payment obligations are fully fulfilled once your payment of the agreed price is received.

11. Refunds, Exchanges and Related
11.1 We assist you with customer services support involving payment, return, refund and other areas in connection with your purchase of products.

11.2 We want you to be satisfied with your purchases through the Services. For all the products purchased on Temu, you may be entitled to a return and refund. For details of return and refund, please visit our Return and Refund Policy. Please follow the instructions in the policy if you want to request a refund. You acknowledge and agree that we may issue a refund to you in accordance with the Return and Refund Policy.

Unless otherwise described in the Return and Refund Policy, the refund will not cover customs, taxes, or any return shipping costs you may incur in the refund process.

12. Rewards
12.1 You may receive credits, coupons, cash, gifts or other kinds of reward by use of the Services (collectively, “Rewards”). Some rewards may only be used for discounts on or payment for eligible purchases on or through the Services (but note that not all products may be eligible) and cannot be redeemed for cash, except in jurisdictions where required by law. You should read carefully the information and applicable rules regarding different kinds of rewards.

13. Ending Our Relationship
13.1 You are free to stop using the Services at any time. We are also free to terminate or suspend your use of the Services or your account, where you breach these Terms or the Policies, as determined by us acting reasonably. Even after your use of the Services is terminated or suspended, these Terms will remain enforceable against you and any unpaid amount you owe to us will remain due.

13.2 If your account is terminated, all Content and Rewards associated with your account will be forfeited and cancelled. You should try to use any remaining Rewards before the date on which such termination becomes effective.

13.3 All provisions of the Terms which by their nature should survive, shall survive termination of these Terms, including without limitation, ownership provisions, warranty disclaimers, and limitations of liability.

14. LIMITATION OF LIABILITY
14.1 We shall only be liable towards you with respect to our contractual obligation to provide the Services. In no event shall we be liable for any actions or omissions of any third parties.

14.2 Our liability towards you is governed by the following rules:

(1) We assume unlimited liability for damages caused wilfully or as a result of gross negligence by us, by our employees, and by our vicarious agents, as well as in the event of fraudulent non-disclosure of defaults, explicit guarantees, and damages arising from personal injuries (life, body and health).

(2) We shall only be liable for other damages if they result from a violation of an obligation that must be observed to make the due performance of the agreement possible and the observation of which the other party to the agreement can usually rely. At the same time, our liability for such other damages is limited to those damages that are deemed typical for this type of contract and foreseeable. We are not liable for any unforeseeable losses. Unforeseeable losses are losses that are unexpected, and it was not obvious that they would arise, and there was nothing you said to us before entering this Agreement that meant that we should have expected them to arise. Possible liabilities according to product liability law remain unaffected. Any further liability is excluded.

(3) We do not warrant or assume liability for obligations according to facilitated contracts with any third parties.

(4) Furthermore, we shall not be liable for the accuracy, reliability, or completeness of the Content provided by us on Temu free of charge or any damages that may arise from such Content.

15. Indemnity
15.1 You agree to indemnify us against any and all claims asserted by other users or other third parties against us based on the infringement of their rights by your use of the Services or your violation of these Terms. In indemnifying us under this Section, you shall bear our costs of necessary legal defence. This does not apply if you are not responsible for such claim. In the event of an indemnified claim under this Section 15, you must provide us immediately and accurately all information necessary for the examination of the claims and a defence.

16. App Stores
16.1 Application License. Subject to your compliance with the Terms, we grant you a limited non-exclusive, non-transferable, non-sublicensable, revocable license to download, install and use a copy of the Temu mobile application (“Application”) on a device or computer that you own or control. Furthermore, with respect to any Application accessed through or downloaded from the Apple App Store (an “App Store Sourced Application”), you will only use the App Store Sourced Application (a) on an Apple-branded product that runs the iOS (Apple’s proprietary operating system) and (b) as permitted by the “Usage Rules” set forth in the Apple App Store Terms of Service. Notwithstanding the first sentence in this section, with respect to any App Store Sourced Application or any Application accessed through or downloaded from the Google Play store (a “Google Play Sourced Application”), you may have additional rights with respect to access to and use of the Application applicable to volume purchasing or via Family Sharing on Apple -branded Products or a shared basis within your designated family group subject to the applicable Apple or Google terms and your associated settings.

16.2 App Stores. You acknowledge and agree that the availability of the Application and the Services is dependent on the third party from whom you received the Application license, e.g., the Apple App Store or Google Play (each, an “App Store”). You acknowledge that the Terms are between you and us and not with the App Store. We, not the App Store, are solely responsible for the Services, including the Application, the content thereof, maintenance, support services, and warranty therefor, and addressing any claims relating thereto (e.g., product liability, legal compliance or intellectual property infringement). In order to use the Application, you must have access to a wireless network, and you agree to pay all fees associated with such access. You also agree to pay all fees (if any) charged by the App Store in connection with The Services, including the Application. You agree to comply with, and your license to use the Application is conditioned upon your compliance with all terms of agreement imposed by the applicable App Store when using any Service, including the Application. You acknowledge that the App Store (and its subsidiaries) are third-party beneficiaries of the Terms and will have the right to enforce it.

16.3 Accessing and Downloading the Application from the Apple App Store. The following applies to any App Store Sourced Application accessed through or downloaded from the Apple App Store:

(1) You acknowledge and agree that (i) the Terms are concluded between you and us only, and not Apple, and (ii) we, not Apple, are solely responsible for the App Store Sourced Application and content thereof. Your use of the App Store Sourced Application must comply with the App Store Terms of Service.

(2) You acknowledge that Apple has no obligation whatsoever to furnish any maintenance and support services with respect to the App Store Sourced Application.

(3) In the event of any failure of the App Store Sourced Application to conform to any applicable warranty, you may notify Apple, and Apple will refund the purchase price for the App Store Sourced Application to you and to the maximum extent permitted by applicable law, Apple will have no other warranty obligation whatsoever with respect to the App Store Sourced Application. As between Apple and us, any other claims, losses, liabilities, damages, costs or expenses attributable to any failure to conform to any warranty will be our sole responsibility.

(4) You and we acknowledge that, as between Apple and us, Apple is not responsible for addressing any claims you have or any claims of any third party relating to the App Store Sourced Application or your possession and use of the App Store Sourced Application, including, but not limited to: (i) product liability claims; (ii) any claim that the App Store Sourced Application fails to conform to any applicable legal or regulatory requirement; and (iii) claims arising under consumer protection or similar legislation.

(5) You and we acknowledge that, in the event of any third-party claim that the App Store Sourced Application or your possession and use of that App Store Sourced Application infringes that third party’s intellectual property rights, as between Apple and us, we, not Apple, will be solely responsible for the investigation, defence, settlement and discharge of any such intellectual property infringement claim to the extent required by the Terms.

(6) You and we acknowledge and agree that Apple, and Apple’s subsidiaries, are third-party beneficiaries of the Terms as related to your license of the App Store Sourced Application, and that, upon your acceptance of the terms and conditions of the Terms, Apple will have the right (and will be deemed to have accepted the right) to enforce the Terms as related to your license of the App Store Sourced Application against you as a third-party beneficiary.

(7) Without limiting any other terms of the Terms, you must comply with all applicable third-party terms of agreement when using the App Store Sourced Application.

17. General
17.1 Assignment. You may not assign, delegate, or transfer these Terms, or your rights and obligations hereunder, to any other person in any way (by operation of law or otherwise) without our prior written consent, and any attempted assignment, subcontract, delegation, or transfer in violation of the foregoing will be null and void. We may transfer, assign, or delegate these Terms and its rights and obligations hereunder to any other person without your consent.

17.2 Unforeseen Events. We shall not be liable for any delay or failure to perform resulting from causes outside our reasonable control, including, but not limited to, acts of God, war, terrorism, riots, embargos, acts of civil or military authorities, fire, floods, accidents, pandemics, strikes, or shortages of transportation facilities, fuel, energy, labour, or materials.

17.3 Choice of Law. If you are a resident of a country in the European Union, then these Terms and any dispute of any sort that might arise between you and us hereunder will be governed by the laws of such country. If you are a resident of a country outside of the European Union, then these Terms and any dispute of any sort that might arise between you and us hereunder will be governed by the laws of Ireland. The United Nations Convention on Contracts for the International Sale of Goods does not apply to the agreement between you and us or these Terms.

17.4 Online Dispute Resolution. The European Commission provides an internet platform for the online settlement of disputes (the "ODR platform"). The ODR platform can currently be accessed at the following link: http://ec.europa.eu/consumers/odr. We are neither willing nor obligated to participate in dispute resolution proceedings before consumer arbitration bodies insofar as the Service or Application falls within the scope of this regulation.

17.5 Notice. You acknowledge and agree that we may give notice to you through email using the latest email address you provided to us, which constitutes effective notice. Therefore, you are responsible for keeping your email address information with us up to date. You may give notice to us by email to legal@uk.temu.com or by post at the following address:

Whaleco UK Limited
First Floor
25 St Stephens Green
Dublin 2, Ireland

Such notice shall be deemed given when received by us by letter delivered by nationally recognized overnight delivery service or regular postage prepaid mail at the above address.

17.6 Waiver. Our failure to respond to a breach by you or others does not waive our right to act with respect to subsequent or similar breaches.

17.7 Severability. If any provision of these Terms is found to be unenforceable or invalid, that provision will be limited or eliminated, to the minimum extent necessary, so that these Terms shall otherwise remain in full force and effect and enforceable.

17.8 Third-Party Beneficiaries. There are no third-party beneficiaries intended under these Terms.

17.9 Entire Agreement. These Terms are the final, complete and exclusive agreement of the parties with respect to the subject matter hereof and supersede and merge all prior discussions between the parties with respect to such subject matter.

18. Contact information
Our contact information are as follows:

Whaleco UK Limited
First Floor
25 St Stephens Green
Dublin 2, Ireland
'''
"""

score_temu, small_summary, proper_summary=GenerateScoreAndSummary(temu_tnc)

score_temu

small_summary

bonkers_tnc='''
Terms and Conditions
Welcome to bonkers.ie, your gateway to the following information and services:
Calculators for comparing gas and electricity tariffs from all Irish suppliers
Calculators for comparing broadband, home phone and bundles from Irish suppliers
A platform to enable you to sign up to many providers of products and service suppliers listed on our website
Tools for comparing mortgages, savings accounts, credit cards and other financial products
Updates on price changes and other developments in the services and products offered by the Providers on this website
We refer to the services above and other similar services and online tools that we provide from time to time as (“our services” or “our service”).

What we do & don’t do
As you may have already worked out, we are Bonkers Limited (trading as “Bonkers” and “bonkers.ie”), a company registered in Ireland under company registration number 477742 and having its registered office at Nutley Building, Nutley Lane, Dublin 4, Ireland. References to “we”, “us”, “our”, “bonkers.ie” and “Bonkers” are references to Bonkers Money Limited. To the extent that you are agreeing to do, or not do, something all of those reference are deemed to include references to any company owned or controlled by us from time to time. We currently carry on business using the www.bonkers.ie and www.broadbandspeedtest.ie websites.

Who we are
We provide an online comparison and switching platform on which you can compare the prices and other distinguishing features of various services and products and through which you have the option of applying to acquire those products or services directly from the relevant product and service providers.

It is very important that you are aware that, while we provide you with certain information relating to the relevant products and services, and in some cases enable you to provide certain information to the relevant product or service provider (ie by completing forms), we only provide the services referred to above. We do not provide the relevant services and products that appear on our website.

Also we cannot advise you on which service or product is suitable for you.

Definitions - Some of the other defined terms that we use (here and in our Privacy Policy and Cookie Policy)

We refer to these Terms & Conditions of Use (as amended and supplemented from time to time) as these "Terms of Use".

The sellers/service providers that supply products or services that appear on our website are referred to as "Providers" or a "Provider" .

When we refer to "our website" we mean our websites and any mobile or other applications giving you access to our websites and our services that we may make available to you to use from time to time.

When we refer to "Register" and "Registered" we mean creating an account with us through our website.

This is a legal contract

These Terms of Use together with our Cookie Policy and Privacy Policy record the contractual relationship between you and us in relation to our services and how we process information relating to you.

As our role is to provide the platform for you to acquire products or services from Providers, in addition to your contractual relationship between with us, you may have other separate, contractual relationships with Providers and other legal entities when you acquire products or services or interact with our website. Those Providers and other legal entities, and not us, are responsible for providing the product or service and for dealing with any claims or any other issues arising out of or in connection with the contract between you and the Provider/other legal entities.

For the purposes of the Data Protection Acts 1988 and 2003, Bonkers Money Limited, is a data controller in relation to the personal data that you disclose to us.

By using our services (whether as a visitor, a user of our comparison tools, a registered user or a person who intends to use our website to apply to purchase products or services), you are agreeing with Bonkers Money Ltd to be bound by these Terms of Use, Cookie Policy and Privacy Policy (as each is amended and supplemented from time to time).

You are agreeing that we can passing to the relevant Provider the information and other data that you provide when completing applications forms for the relevant product or service that you are interested in.

We may change or update these Terms of Use and our Privacy Policy and Cookie Policy at any time without prior notice. If the changes are changes that we regard as material we will put a notification on website that the changes have been made. Your continued use of our website or our services means that you accept any new or modified terms.

Watching out for your money
Our website is designed to help you make the most of your money. While we offer plenty of information and ideas on how to do this, the power to act on this information, and the responsibility that comes with it, lies with you.

Below we set out some key points you should bear in mind when using our website.

Your money, your decision
In our various product comparison centres, we may feature a number of providers that have paid us to promote their services to you. We do not recommend one over another and these areas are not intended to be an exhaustive list of all providers of a particular product.

It is up to you to decide whether what they offer is right for you.

The information provided on our website is for general information purposes only. It is not, and should not be construed as, financial, professional or other advice. We strongly caution you not to solely rely on the information you find here to inform your decisions; rather, use it as a starting point for doing your own independent research.

In particular, when you use our website to apply to our advertisers, sponsors and business partners to acquire their products or services you should ensure that you fully understand their terms and conditions and the prices for those products and services.

Individual Customers Only / Means of Access
While we would hope to be able to provide services to business customers in the future, we do not currently do so. For this reason, our website and our services are for your non-commercial, personal use only and not for business purposes. You may access our services only through our website, standard web and mobile browsers and similar consumer applications and any app that we may develop, but not with any robot, spider, offline reader, site search/retrieval application or other manual or automatic device, tool, or process to retrieve, index, or mine data from our website.

Emails that we may send to you
As one of our most important services is providing users of our website with updates on prices and other information relating to the products and services that appear on our website, we may send you administrative and promotional newsletters and emails.

In the event that you start to complete a form on our website and for some reason you do not complete that process, we may send you an email to remind you and we will save the information that you have already completed in order for you to more easily complete the form. If you do not complete the form within 30 days the information that you inserted will automatically expire.

Also, if you are registered with us we may also send you information regarding your account activity, as well as updates about our website and our services or other offers. You can opt-out of our newsletters and promotional e-mails at any time by clicking the unsubscribe link at the bottom of the e-mail or by contacting us. Please see our Privacy Policy for further information relating to how we process information relating to you.

Data and analysis
In the material that we make available on our website, we rely on a wide variety of sources and other websites. We believe these sources of data to be generally accurate and reliable, but sometimes they may not be.

Registration & Passwords
You have the option of registering with us as a registered user. The advantages of registration are that we can provide you with a better service and you can more easily control, and update, the information that we hold about you.

Please note that you may only maintain one active registration and that you must have a valid email registered with us at all times. When you register you will be confirming this to us and you will be warranting to us all information provided by you as part of the registration process is accurate, that you will update it as and when it changes and that we can rely on it.

If an email that we send to you should bounce for some reason, your account may be temporarily suspended until you contact us with a verifiable address. Accounts registered with someone else’s email address or a temporary email address may be closed without notice.

During the registration process, we will ask you for a password. You must keep your password confidential and inform us immediately if any unauthorised third party becomes aware of that password or if you become aware of any unauthorised use of your email address or any breach of security that could result in your password being disclosed or your email account being accessed. You agree that we are not responsible or liable in the event that a person to whom your password is disclosed uses our services and enters into contractual relationships with Providers.

Accessing our Website
Access to our website and any registration/account with us is permitted on a temporary basis, and we reserve the right to withdraw, suspend or amend all or part of our services that we provide on our website without notice for any reason. We will not be liable if for any reason our website or any account is unavailable at any time or for any period.

From time to time, we may restrict access to some parts of our website, or our entire website, to users who have registered with us.

How do we find your address / Eircode?
When you use our website and complete a form that asks for your address you will see that you are given a choice of letting us find your address for you or clicking a link to enter your address manually. When you use our search facility the search that is carried out is a search of the National Postcode System known as “Eircode”. By using this search facility and not opting to enter your address manually you are consenting to our use of Eircode and the use of the address and eircode that is provided. It is important that you check the details provided to ensure that the address shown is correct.

We will use the address in the same manner as if you had inputted the address manually. If you wish to find out more about Eircode and the terms on which the Eircode service is provided please see the Eircode Code of Practice. This contains an Acceptable Use Policy and it tells you more about how Eircode processes your address and eircode, including data protection and privacy issues. Please also see the Eircode Privacy Policy .

Our content and proprietary rights
In this section, 'Content' means any information, mode of expression, or other material and services found on bonkers.ie. This includes question, answer, review, comment, tip or other piece of user-generated content, as well as software, our writings, graphics and any and all other features that may be found on the website.

Except as expressly provided in these Terms of Use, all of the Content on this website is the property of Bonkers Money Ltd or its licensors and is protected by Irish and international trade mark, copyright and other intellectual property laws.

Our Content is intended for individual, personal use only. You are permitted to use content delivered to you through our website only for our services or in order to apply for and acquire any of the products or services appearing on our website. You may not copy, reproduce, distribute, or create derivative works from our content. Further, you agree not to reverse engineer or reverse compile any of the software or other technology that we use. Any other copying, distribution, storing or transmission of any kind, or any sort of commercial use of our content, is strictly prohibited without our prior written permission.

We make no claims or representations as to the accuracy, completeness, or truth of any material contained on our website. Nor are we liable for any errors or delays in the content or transmission of the data on our website.

The content and services Bonkers Money Ltd provide are not aimed at or for the use of children or minors. All users must be at least 18 years of age.

Our advertisers and sponsors
Our website, newsletters and emails may include third-party advertisements. The appearance of an advert does not mean that we endorse the advertiser's goods or services. While we will not knowingly run an advert that is untrue, we are not responsible for the accuracy of any advertising material or the usefulness of an advertised product or service.

In our various product comparison centres, we may feature a number of providers that have paid to promote their services to you. We do not recommend one over another and these areas are not intended to be an exhaustive list of all providers of a particular financial product. It is up to you to decide whether what they offer is right for you.

Bonkers Money Ltd specifically disclaims all liability for any damage or costs of any type arising out of or in any way connected with your use of a provider's service or product included in our product comparison centres.

Your content
Our website may contain areas where you may be able to publicly post information and communicate with others such as discussion boards or blogs, review products and merchants, and otherwise submit your own original content (“ Posts ”). Your Posts are available to the public and to internet search engines and could be re-posted or republished elsewhere. For this reason it is very important that you consider what you post and what information you provide.

Use of these areas is at our sole discretion and we reserve the right to restrict access to any or all users and to remove any Posts that do not comply with law or our rules (as amended from time to time), including those set under “Conduct” below. We have no obligation to use your Posts and we may not use them at all. Further, we do not have any liability for any Post or other information that appears on, or is removed from, our website or which appears elsewhere.

Any material you transmit or post or submit to our website (or otherwise to us) shall be considered (and we may treat it as) non-confidential and non-proprietary.

You, or any other creator of the Post, own the copyright in the expression of your Posts on our website. Please note, however, that when you Post content, you expressly grant to us a perpetual, irrevocable, royalty-free, worldwide, assignable, non-exclusive license to use, edit, alter, adapt, translate, copy, publish, continue to publish or republish the submission (and/or an edited, adapted or translated version of it or part of it) ('the Work') and/or to sell or otherwise communicate or distribute the Work, as part of an edited compilation or in any other way howsoever. This licence is capable of sub-licence, unlimited in the use to which we may put the Work and exists whether or not you remain a registered user.

As the licence is irrevocable, this means, for example, that we do not have to remove your Posts even if you would like us to and even if you are no longer a registered user. You and any other creator of the Post agree to waive any 'moral rights' or other rights with respect to the authorship of the Post that you may have under any applicable law under any legal theory. We may, but are not obliged to, credit you under your registered user name (either the one existing at the time of the Post or otherwise) as the author in any use of your material.

By submitting your Post you represent and warrant that you are the creator of the post and any attachments, or if you are acting on behalf of the creator, that you have express, authority from the creator to submit the post and that you have all rights necessary to agree to these Terms of Use including the granting of the foregoing license. You also represent and warrant that the Post will not violate or infringe any laws, copyrights, trademarks or any other intellectual property rights or rights of third parties, including the rights of privacy. You will be solely liable for any damage resulting from any infringement of copyrights, trademarks, proprietary rights or any other harm resulting from your Post. Please also see “Conduct” below. We do not accept any responsibility for, or endorse, any posts (including your Posts), and we will not be liable for the use of, or reliance on, posts by you or others.

We do not give any representations or warranties that any Posts that are modified or removed by you will be modified or removed from our website, or elsewhere, or that your Posts will cease to appear on the internet, in search engines, social media websites, or in any other form, media or technology.

Conduct
We champion active and open debate among our users (in particular community members) and the lawful use of our website and our services. All that we ask is that you act in a lawful and civil manner and comply with the following rules and these Terms of Use.

You agree to provide true, accurate, current and complete information about yourself and your accounts maintained at other websites and you agree to not misrepresent your identity or your account information. You agree to keep your account information up to date and accurate.

You may not use, or allow others to use, our website, including posting your own content, or your registration with us, to:

post or transmit any content that is abusive, vulgar, obscene, indecent, defamatory, hateful, fraudulent, unlawful, threatening, harassing, or defamatory or which discloses private or personal matters concerning any person
post or transmit any material that you do not have a right to transmit under law (such as a post that is in breach copyright, trademarks or other intellectual property rights or trade secrets) or under contractual or fiduciary relationships (such as non-disclosure / confidentiality agreements)
post, transmit, or link to sexually explicit material
impersonate any person or entity, or falsely state or otherwise misrepresent your affiliation with anyone or any entity
post or transmit statements that are intentionally false or misleading, or use such statements to manipulate the market for any security
post or transmit any advertising, promotional materials or other forms of solicitation including chain letters or pyramid schemes
offer, sell, or buy any shares or other securities
offer or sell our services and products and services of Providers to others
violate the laws, rules and regulations of any financial, communications or other regulator and national or other securities exchanges
violate any other applicable law or regulation while accessing and using our website
collect or store personal data about other users of our website
post or transmit any file that contains viruses, corrupted files, 'Trojan Horses', or any other contaminating or destructive features that may damage someone else's computer or attempt to gain unauthorised access to our website. By breaching this provision, you would commit a criminal offence. We will report any such breach to the relevant law enforcement authorities and we will co-operate with those authorities by disclosing your identity to them. In the event of such a breach, your right to use our website will cease immediately
provide false information or data
place a disproportionate burden on our server
enter into fraudulent or misleading transactions with us, Providers or third parties
Whilst we can't, and do not, at all times review all Posts and other transmissions by our website users, we reserve the right to monitor any information transmitted or received through our service. We may, at our sole discretion and without prior notice, at any time review, remove, or otherwise block any post or terminate your right to make Posts and/or your registration/account with us for violating these Terms of Use.

Please notify us immediately if you have been harassed in any manner or you feel that anything done by another user of our website is in violation of the Terms of Use.

You are responsible for all statements made and acts that occur through the use of your membership and password. You must not disclose your password to anyone. If your password has been stolen, you must let us know immediately.

Linking to our website
You may link to our home page, provided you do so in a way that is fair and legal and does not damage our reputation or take advantage of it, but you must not establish a link in such a way as to suggest any form of association, approval or endorsement on our part where none exists.

You must not establish a link from any website that is not owned by you.

Our website must not be framed on any other website, nor may you create a link to any part of our website other than the home page. We reserve the right to withdraw linking permission without notice at any time at our sole discretion.

Terms of service violations
As stated above, please notify us immediately if you have been harassed in any manner or you feel that anything is in violation of the terms and conditions of our service.

Service, disclaimer of warranties and liability and indeminities
Please review this section carefully as it is very important and it takes priority over the other provisions of these Terms of Use relating to our services and any other obligations that we may have to you from time to time under these Terms of Use, under any statutory provisions or other law or otherwise.

Summary - what does this section mean?

In summary, it means that you agree that, save only to the extent that we cannot by law exclude our liability, under no circumstances shall we be liable for any Liability (as defined below) resulting from (i) any information or content that appears on our website or that we send to you, (ii) your use of, or downloading of, any content on our website, (iii) any information that you provide (or do not provide) to us, (iv) the time at which we provide (or do not provide) our services, (v) the manner in which we provide (or do not provide) our services (ie through our website, call centre, email or otherwise), (vi) any decision that you make to apply for and acquire any of the services or products that appear on our website, (vii) your use of those services and products and (viii) any acts or omissions of Providers or third parties. Further, you will pay to us any amounts that we, our team and group of companies may incur in relation to those Liabilities (as defined below).

Save to the extent that we are required to do so by law, we are not making any guarantees, promises or warranties except that we won't intentionally lie to you and that we will exercise reasonable care and skill in delivering our services to users of our website generally (and not just you or other individuals users or categories of users).

As we have stated above, it is up to you to decide whether what the Providers offer is right for you. We strongly caution you not to solely rely on the information you find here to inform your decisions; rather, use it as a starting point for doing your own independent research.

In particular, when you use our website to apply to Providers to acquire any of their products or services, you should ensure that you fully understand (i) how those products and services work, (ii) whether or not they are appropriate for you given your / your family’s personal circumstances and (iii) their price. If you decide to acquire the products and services it is very important that you are aware of all of the terms and conditions that apply.

The detail (which you should read carefully)

The terms and conditions in this Section have been prepared to reflect the fact that (i) we only provide our services, (ii) we have no control over you or the Providers listed in our comparison centres or other third parties who appear on our website and (iii) we are reliant on, and do not have the means to verify, most of the information that is provided to us by, or obtained by us from, third parties.

In this Section
"Affiliates" means Bonkers Money Limited’s subsidiaries, any other companies within the same group of companies and each of their respective shareholders, directors and employees;

"Information" means the news, data, content and other information in our comparison centres or other content found on, embedded in (whether through links or otherwise) or referred to on our website and in newsletters, emails and other communications that we issue to you;

"Liability" and "Liabilities" means any, direct or indirect, claim, liability, cost, damage or loss or other liabilities (including, without limitation, legal and other professional fees) that are incurred, including, but not limited to, (i) those arising out of any cause of action (including breach of contract, tort, misrepresentation, restitution or any other cause of action whatsoever and (ii) liabilities expressly provided for under this Agreement.

Your use of our services and all Information whether provided by us or third parties that is included in or accessible from our service or our website is at your sole risk and such Information is provided on an "as is" and "as available" basis.

Without prejudice to the foregoing, we do not warrant or represent or give you any form of guarantee or commitment relating to the following:

the completeness or accuracy or veracity of Information;
that the Information is not free from errors or omissions;
the usefulness of Information for any particular purpose;
that any of the products or services that you apply and/or acquire from Providers, or Information relating to them, is of a particular quality or fit for a specific purpose, including the purposes for which you require them;
whether or not the Information infringes the rights of third parties;
that you can use our services;
that our services will be delivered in an uninterrupted, error-free or timely manner;
that you will not be affected by any distributed denial-of-service attack, viruses or other technologically harmful material that may infect or damage your computer equipment, computer programs, data or other proprietary material due to your use of our website or due to your downloading of any material posted on it, or on any website linked to it; and
that you will not be affected by any unauthorised access to or alteration of your transmissions or your data.
We do not accept, and expressly exclude, responsibility for any and all Liabilities incurred by you or by any third party, arising, directly or indirectly, from:

the matters and events described in paragraphs (i) to (ix) above;
the fact that our comparison centres may not reflect, among other things, (i) all products and services that are provided by Providers (ii) prices or other aspects of products or services that have yet to be made public by Providers (iii) prices for services or products to that are offered by Providers to specific customers or categories of customers only and (iv) prices or other aspects of products or services that are advertised by Providers on our website.
any decision made by you to apply for or acquire, or not to apply for and not to acquire, any products or services from a Provider or other third party that appears on our website;
the use or the inability to use our service on our services;
any breach of our service’s security measures;
the cost of obtaining substitute goods and services;
products or services applied for, purchased, or obtained or used through the use of our website and our services;
Information received from us or information or other data received from Providers or other third parties;
Posts or statements made by, or the conduct of, any third party that uses our website or service;
the performance or non-performance of any third party, including a Provider, of their obligations to (i) us (ii) our Affiliates (iii) you or (iv) third parties.
Without prejudice to the foregoing, we will not be liable for (i) loss of income or revenue, (ii) loss of actual or anticipated profits, (iii) indirect or consequential loss (whether or not they are known, foreseen, foreseeable or otherwise (iv) loss of goodwill, loss of opportunity or loss of other intangible rights and (v) loss of data.

Nothing in this Section shall exclude or limit our Liability for (i) fraud; (ii) death or personal injury caused by our negligence; (iii) serious misconduct by us (other than serious or other misconduct not conducted by us or our Affiliates); or (iv) any Liability or warranty or representation only to the extent that it cannot be excluded or limited by law and this is finally determined having regard to, among other things, whether or not you are a consumer.

You are obliged to take reasonable steps to mitigate/reduce any loss that is or may be suffered by you.

You agree to indemnify, defend, and hold us and our Affiliates harmless against any Liability arising directly or indirectly (both during and after the termination of this agreement) from (i) any material you Post (including, without limitation, any Liability relating to a breach any other person’s intellectual property rights or your failure to comply with any law), (ii) any violation by you of your obligations to us under these Terms of Use, (iii) your decision to apply for, and acquire, any product or service from a Provider, (iv) your use (and the use of anyone in your household) of any services products or services supplied by a Provider and (v) your failure to perform your obligations to the Provider.

Other Legal terms
If any provision or word or sentence in these Terms of Use is invalid or unenforceable, it shall be deemed severed and where capable the validity and enforceability of the remaining provisions of these Terms of Use shall not be affected.

These Terms of Use shall be governed by the laws of Ireland as if the Agreement was a contract wholly entered into and wholly performed within Ireland. You agree that save as provided for below the courts of Ireland shall have exclusive jurisdiction in relation to any disputes arising under or in connection with these Terms of Use and the use by you of our website and our services. We reserve the right to bring proceedings against you in the courts of any jurisdiction should we consider it appropriate for us to do so in order to enforce, or protect, our rights, or those of our Affiliates, under these Terms of Use

These Terms of Use, the Cookie Policy and the Privacy Policy (as each is amended and supplemented from time to time) represent the entire agreement between us at the time that you use our website or our services.

Nothing in these Terms of Use constitutes a joint venture, partnership or agency relationship between you and us and neither party shall have the right or authority to incur any liability, debt or cost or enter into any contracts or other arrangements in the name of or on behalf of the other.

You may not assign or delegate or otherwise deal with all or any of your rights or obligations under these Terms of Use. We shall have the right to assign or otherwise delegate all or any of our rights or obligations under these Terms of Use to any person.

We shall not be liable for any breach of our obligations under these Terms of Use, the Cookie Policy or the Privacy Policy where we are hindered or prevented from carrying out our obligations by any cause outside our reasonable control.

No waiver by us of any default of yours under these Terms of Use, the Cookie Policy or the Privacy Policy shall operate or be construed as a waiver by us of any future defaults, whether of a similar or different character. No granting of time or other forbearance or indulgence by us to you shall in any way release, discharge or otherwise affect your Liability under this Agreement.

Notices to be given to either party shall be in writing and shall be delivered by hand, electronic mail (other than, if you are sending a notice to us for the purpose of legal process) sent by fax or by pre-paid post, to you at the address you supplied to us or to us at our registered office.

All provisions of these Terms of Use apply equally to and are for the benefit of our Affiliates and each shall have the right to enforce such provisions directly or on its own behalf. Subject to the foregoing, no term of these Terms of Use is otherwise enforceable by any person who is not a party to it.

Those provisions of these Terms of Use, the Privacy Policy and the Cookie Policy that either are expressed to survive the expiry or termination of this agreement or from their nature or context it is contemplated that they are to survive such termination, shall survive termination of this agreement. In the event you use our Services or our website again, then the provisions of these Terms of Use, the Privacy Policy and the Cookie Policy that then apply will govern your re-use of our services or our website. In the event you use Vouchers bought under this Agreement, then those provisions applicable to Vouchers will survive termination of this Agreement.

Business/Asset Sale
In the event that we reorganise our business, you agree that we may transfer your information to another company owned and controlled us. In the event that we propose to sell any business or assets to a third party, you agree that we may (i) transfer anonymised information relating to you to one or more prospective third party purchasers and (ii) and transfer your personal information to the purchaser(s) of the business or assets if the transaction is completed.

In the event that Bonkers Money Limited proposes to sells any business or assets to a third party, we may disclose your personal information to a prospective purchaser on a confidential basis and to any ultimate purchaser.

Suspension and termination
If you use (or anyone other than you, with your permission uses) our services or our website in breach of these Terms of Use, our Cookie Policy and our Privacy Policy, or, on reasonable grounds, we suspect that you have, might or will breach them, we may suspend your use of our services and/or your account and/or our website (in whole or in part).

Notwithstanding anything else in these Terms of Use, our Cookie Policy and our Privacy Policy:

we may terminate our agreement with you at any time on giving you reasonable notice which shall not in any event exceed one month; and
we may terminate our agreement with you at any time with immediate effect of you are in breach of your obligations to us.
Our right to terminate this Agreement shall not prejudice any other right or remedy we may have in respect of any breach or any rights, obligations or liabilities accrued prior to termination.
'''

bonkers_json = GenerateScoreAndSummary(bonkers_tnc)

bonkers_json["score"]

bonkers_json["short_summary"]

bonkers_json["long_summary"]

perplexity_json = GenerateScoreAndSummary(perplexity_tnc)

perplexity_json["score"]

perplexity_json["short_summary"]

perplexity_json["long_summary"]

"""## Final Run"""

!pip install requests
!pip install openai
# !pip install transformers

import re
legal_keywords=["GDPR","data privacy","indemnity","responsibility", "liability"]
def custom_ner(text, keywords):
    detected_entities = []

    # Loop through the keywords and search in text
    for keyword in keywords:
        # Use regex to find all matches
        matches = [(m.start(), m.end(), keyword) for m in re.finditer(re.escape(keyword), text, re.IGNORECASE)]
        detected_entities.extend(matches)

    # Format the output similar to Hugging Face's NER
    entities = []
    for start, end, keyword in detected_entities:
        entities.append({
            "word": text[start:end],
            "start": start,
            "end": end,
            "entity": "LEGAL_KEYWORD"
        })

    return entities

# Positive legal keywords
positive_keywords = [
    "Compliant",
    "Permissible",
    "Authorized",
    "Lawful",
    "Protected",
    "Valid",
    "Enforceable",
    "Secured",
    "Legitimate",
    "Fair"
]

# Negative legal keywords
negative_keywords = [
    "Unlawful",
    "Breach",
    "Violation",
    "Unauthorized",
    "Infringement",
    "Liability",
    "Prohibited",
    "Invalid",
    "Dispute",
    "Non-compliant"
]

from transformers import pipeline
import numpy as np
import pandas as pd
from openai import OpenAI
import json
import random

def GenerateScoreAndSummary(tnc_doc):
  YOUR_API_KEY = "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"
  messages = [
      {
          "role": "system",
          "content": (
              '''
              based on GDPR (General Data Protection Regulation) https://gdpr-info.eu/issues/personal-data/ ,
  data privacy, indemnity, responsibility of liability decide if the terms of conditions are good or not. assign a score and summarize the
  problems in the terms and conditions.
  Output Objective: You must generate the output as follows:
  1 ) Mean Risk Score (give in whole numbers only)
  2) Summarize the problems in terms and conditions and tell what is wrong. Only tell if something is actually wrong.
              '''
          ),
      },
      {
          "role": "user",
          "content": (
            tnc_doc
          ),
      },
  ]

  client = OpenAI(api_key=YOUR_API_KEY, base_url="https://api.perplexity.ai")
  # Positive legal keywords
  positive_keywords = [
      "Compliant",
      "Permissible",
      "Authorized",
      "Lawful",
      "Protected",
      "Valid",
      "Enforceable",
      "Secured",
      "Legitimate",
      "Fair"
  ]

  # Negative legal keywords
  negative_keywords = [
      "Unlawful",
      "Breach",
      "Violation",
      "Unauthorized",
      "Infringement",
      "Liability",
      "Prohibited",
      "Invalid",
      "Dispute",
      "Non-compliant"
  ]



  last_response_text = ""
  response_stream = client.chat.completions.create(
      model="llama-3.1-sonar-small-128k-chat",
      messages=messages,
      stream=True,
  )

  response_array=[]
  for response in response_stream:
    response_array.append(response)

  last_rep=str(response_array[-1])
  index= last_rep.find("###")
  end_ind = last_rep[index:].find("\\n")
  # num_array=['1/10','2/10','3/10','4/10','5/10','6/10','7/10','8/10','9/10']
  # for nums in num_array:
  #   if nums in last_rep:
  #     index2= last_rep[index:].find(nums)
  #     break
  positive_entities = custom_ner(tnc_doc, positive_keywords)
  pi=len(pd.DataFrame(positive_entities))
  negative_entities = custom_ner(tnc_doc, negative_keywords)
  ni=len(pd.DataFrame(negative_entities))
  score_factor=(pi-ni)/(pi+ni)+1



  score_text=  last_rep[index+21:index+end_ind]
  percentage= int(score_text[0])*10
  tnc_start_index = last_rep[index+end_ind:].find("\\n")
  summarizer = pipeline("summarization", model="t5-small")
  outputs = summarizer(last_rep[index+end_ind+ tnc_start_index:], max_length=100, clean_up_tokenization_spaces=True)
  # formatted_summary = short_summary.


  # print(percentage)
  output_json={
      "score": percentage*score_factor,
      "short_summary": outputs[0]["summary_text"].replace('. ', '.\n'),
      "long_summary": last_rep[index+31:]

  }


  return output_json

def GenerateScoreAndSummary(tnc_doc):
    YOUR_API_KEY = "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"
    messages = [
        {
            "role": "system",
            "content": '''
                based on GDPR (General Data Protection Regulation) https://gdpr-info.eu/issues/personal-data/ ,
                data privacy, indemnity, responsibility of liability decide if the terms of conditions are good or not.
                assign a score and summarize the problems in the terms and conditions. Subtract 20 for each violation.
                Output Objective: You must generate the output as follows:
                1 ) Mean Risk Score (give in whole numbers only)
                2) Summarize the problems in terms and conditions and tell what is wrong.

            ''',
        },
        {
            "role": "user",
            "content": tnc_doc,
        },
    ]

    client = OpenAI(api_key=YOUR_API_KEY, base_url="https://api.perplexity.ai")

    try:
        last_response_text = ""
        response_stream = client.chat.completions.create(
            model="llama-3.1-sonar-small-128k-chat",
            messages=messages,
            stream=True,
        )

        response_array = []
        for response in response_stream:
            response_array.append(response)

        last_rep = str(response_array[-1])
        index = last_rep.find("###")
        end_ind = last_rep[index:].find("\\n")
        score_text = last_rep[index + 21:index + end_ind]
        percentage = int(score_text[0]) * 10
        tnc_start_index = last_rep[index + end_ind:].find("\\n")
        summarizer = pipeline("summarization", model="t5-small")
        outputs = summarizer(last_rep[index + end_ind + tnc_start_index:], max_length=100, clean_up_tokenization_spaces=True)

        output_json = {
            "score": percentage*np.random.uniform(0.95,1.05)-np.random.uniform(10,30),
            "short_summary": outputs[0]["summary_text"],
            "long_summary": last_rep[index + 31:],
        }

        return output_json

    except Exception as e:
        print(f"An error occurred: {e}")
        return {
            GenerateScoreAndSummary(tnc_doc),
        }

amazon_json = GenerateScoreAndSummary(amazon_tnc)

amazon_json

linkedin_tnc='''Effective on February 1, 2022

Our mission is to connect the world’s professionals to allow them to be more productive and successful. Our services are designed to promote economic opportunity for our members by enabling you and millions of other professionals to meet, exchange ideas, learn, and find opportunities or employees, work, and make decisions in a network of trusted relationships.


Table of Contents:
Introduction
Obligations
Rights and Limits
Disclaimer and Limit of Liability
Termination
Governing Law and Dispute Resolution
General Terms
LinkedIn “Dos and Don’ts”
Complaints Regarding Content
How To Contact Us
Introduction
1.1 Contract
When you use our Services you agree to all of these terms. Your use of our Services is also subject to our Cookie Policy and our Privacy Policy, which covers how we collect, use, share, and store your personal information.
You agree that by clicking “Join Now”, “Join LinkedIn”, “Sign Up” or similar, registering, accessing or using our services (described below), you are agreeing to enter into a legally binding contract with LinkedIn (even if you are using our Services on behalf of a company). If you do not agree to this contract (“Contract” or “User Agreement”), do not click “Join Now” (or similar) and do not access or otherwise use any of our Services. If you wish to terminate this contract, at any time you can do so by closing your account and no longer accessing or using our Services.

Services
This Contract applies to LinkedIn.com, LinkedIn-branded apps, LinkedIn Learning and other LinkedIn-related sites, apps, communications and other services that state that they are offered under this Contract (“Services”), including the offsite collection of data for those Services, such as our ads and the “Apply with LinkedIn” and “Share with LinkedIn” plugins. Registered users of our Services are “Members” and unregistered users are “Visitors”.

LinkedIn
You are entering into this Contract with LinkedIn (also referred to as “we” and “us”).

We use the term “Designated Countries” to refer to countries in the European Union (EU), European Economic Area (EEA), and Switzerland.

If you reside in the “Designated Countries”, you are entering into this Contract with LinkedIn Ireland Unlimited Company (“LinkedIn Ireland”) and LinkedIn Ireland will be the controller of your personal data provided to, or collected by or for, or processed in connection with our Services.

If you reside outside of the “Designated Countries”, you are entering into this Contract with LinkedIn Corporation (“LinkedIn Corp.”) and LinkedIn Corp. will be the controller of your personal data provided to, or collected by or for, or processed in connection with our Services.

This Contract applies to Members and Visitors.
As a Visitor or Member of our Services, the collection, use and sharing of your personal data is subject to this Privacy Policy (which includes our Cookie Policy and other documents referenced in this Privacy Policy) and updates.

1.2 Members and Visitors
When you register and join the LinkedIn Services, you become a Member. If you have chosen not to register for our Services, you may access certain features as a “Visitor.”

1.3 Change
We may make changes to the Contract.
We may modify this Contract, our Privacy Policy and our Cookies Policy from time to time. If we make material changes to it, we will provide you notice through our Services, or by other means, to provide you the opportunity to review the changes before they become effective. We agree that changes cannot be retroactive. If you object to any changes, you may close your account. Your continued use of our Services after we publish or send a notice about our changes to these terms means that you are consenting to the updated terms as of their effective date.

2. Obligations
2.1 Service Eligibility
Here are some promises that you make to us in this Contract:
You’re eligible to enter into this Contract and you are at least our “Minimum Age.”
The Services are not for use by anyone under the age of 16.

To use the Services, you agree that: (1) you must be the "Minimum Age"(described below) or older; (2) you will only have one LinkedIn account, which must be in your real name; and (3) you are not already restricted by LinkedIn from using the Services. Creating an account with false information is a violation of our terms, including accounts registered on behalf of others or persons under the age of 16.

“Minimum Age” means 16 years old. However, if law requires that you must be older in order for LinkedIn to lawfully provide the Services to you without parental consent (including using of your personal data) then the Minimum Age is such older age.

2.2 Your Account
You will keep your password a secret
You will not share an account with anyone else and will follow our rules and the law.
Members are account holders. You agree to: (1) use a strong password and keep it confidential; (2) not transfer any part of your account (e.g., connections) and (3) follow the law and our list of Dos and Don’ts and Professional Community Policies. You are responsible for anything that happens through your account unless you close it or report misuse.

As between you and others (including your employer), your account belongs to you. However, if the Services were purchased by another party for you to use (e.g. Recruiter seat bought by your employer), the party paying for such Service has the right to control access to and get reports on your use of such paid Service; however, they do not have rights to your personal account

2.3 Payment
You’ll honor your payment obligations and you are okay with us storing your payment information. You understand that there may be fees and taxes that are added to our prices.
Refunds are subject to our policy.
If you buy any of our paid Services (“Premium Services”), you agree to pay us the applicable fees and taxes and to additional terms specific to the paid Services. Failure to pay these fees will result in the termination of your paid Services. Also, you agree that:

Your purchase may be subject to foreign exchange fees or differences in prices based on location (e.g. exchange rates).
We may store and continue billing your payment method (e.g. credit card) even after it has expired, to avoid interruptions in your Services and to use to pay other Services you may buy.
If you purchase a subscription, your payment method automatically will be charged at the start of each subscription period for the fees and taxes applicable to that period. To avoid future charges, cancel before the renewal date. Learn how to cancel or suspend your Premium Services.
All of your purchases of Services are subject to LinkedIn’s refund policy.
We may calculate taxes payable by you based on the billing information that you provide us at the time of purchase.
You can get a copy of your invoice through your LinkedIn account settings under “Purchase History”.

2.4 Notices and Messages
You’re okay with us providing notices and messages to you through our websites, apps, and contact information. If your contact information is out of date, you may miss out on important notices.
You agree that we will provide notices and messages to you in the following ways: (1) within the Service, or (2) sent to the contact information you provided us (e.g., email, mobile number, physical address). You agree to keep your contact information up to date.

Please review your settings to control and limit messages you receive from us.

2.5 Sharing
When you share information on our Services, others can see, copy and use that information.
Our Services allow messaging and sharing of information in many ways, such as your profile, articles, group posts, links to news articles, job postings, messages and InMails. Information and content that you share or post may be seen by other Members, Visitors or others (including off of the Services). Where we have made settings available, we will honor the choices you make about who can see content or information (e.g., message content to your addressees, sharing content only to LinkedIn connections, restricting your profile visibility from search engines, or opting not to notify others of your LinkedIn profile update). For job searching activities, we default to not notifying your connections network or the public. So, if you apply for a job through our Service or opt to signal that you are interested in a job, our default is to share it only with the job poster.

We are not obligated to publish any information or content on our Service and can remove it with or without notice.

Key terms
3. Rights and Limits
3.1. Your License to LinkedIn
You own all of the content, feedback and personal information you provide to us, but you also grant us a non-exclusive license to it.
We’ll honor the choices you make about who gets to see your information and content, including how it can be used for ads.
As between you and LinkedIn, you own the content and information that you submit or post to the Services, and you are only granting LinkedIn and our affiliates the following non-exclusive license:

A worldwide, transferable and sublicensable right to use, copy, modify, distribute, publish and process, information and content that you provide through our Services and the services of others, without any further consent, notice and/or compensation to you or others. These rights are limited in the following ways:

You can end this license for specific content by deleting such content from the Services, or generally by closing your account, except (a) to the extent you shared it with others as part of the Service and they copied, re-shared it or stored it and (b) for the reasonable time it takes to remove from backup and other systems.
We will not include your content in advertisements for the products and services of third parties to others without your separate consent (including sponsored content). However, we have the right, without payment to you or others, to serve ads near your content and information, and your social actions may be visible and included with ads, as noted in the Privacy Policy. If you use a Service feature, we may mention that with your name or photo to promote that feature within our Services, subject to your settings.
We will get your consent if we want to give others the right to publish your content beyond the Services. However, if you choose to share your post as "public, everyone or similar", we will enable a feature that allows other Members to embed that public post onto third-party services, and we enable search engines to make that public content findable though their services. Learn More
While we may edit and make format changes to your content (such as translating or transcribing it, modifying the size, layout or file type or removing metadata), we will not modify the meaning of your expression.
Because you own your content and information and we only have non-exclusive rights to it, you may choose to make it available to others, including under the terms of a Creative Commons license.
You and LinkedIn agree that if content includes personal data, it is subject to our Privacy Policy.
You and LinkedIn agree that we may access, store, process and use any information and personal data that you provide in accordance with, the terms of the Privacy Policy and your choices (including settings).

By submitting suggestions or other feedback regarding our Services to LinkedIn, you agree that LinkedIn can use and share (but does not have to) such feedback for any purpose without compensation to you.

You promise to only provide information and content that you have the right to share, and that your LinkedIn profile will be truthful.
You agree to only provide content or information that does not violate the law nor anyone’s rights (including intellectual property rights). You also agree that your profile information will be truthful. LinkedIn may be required by law to remove certain information or content in certain countries.

3.2 Service Availability
We may change or end any Service or modify our prices prospectively.
We may change, suspend or discontinue any of our Services. We may also modify our prices effective prospectively upon reasonable notice to the extent allowed under the law.

We don’t promise to store or keep showing any information and content that you’ve posted. LinkedIn is not a storage service. You agree that we have no obligation to store, maintain or provide you a copy of any content or information that you or others provide, except to the extent required by applicable law and as noted in our Privacy Policy.

3.3 Other Content, Sites and Apps
Your use of others’ content and information posted on our Services, is at your own risk.
Others may offer their own products and services through our Services, and we aren’t responsible for those third-party activities.
By using the Services, you may encounter content or information that might be inaccurate, incomplete, delayed, misleading, illegal, offensive or otherwise harmful. LinkedIn generally does not review content provided by our Members or others. You agree that we are not responsible for others’ (including other Members’) content or information. We cannot always prevent this misuse of our Services, and you agree that we are not responsible for any such misuse. You also acknowledge the risk that you or your organization may be mistakenly associated with content about others when we let connections and followers know you or your organization were mentioned in the news. Members have choices about this feature.

LinkedIn may help connect Members offering their services (career coaching, accounting, etc.) with Members seeking services. LinkedIn does not perform nor employs individuals to perform these services. You must be at least 18 years of age to offer, perform or procure these services. You acknowledge that LinkedIn does not supervise, direct, control or monitor Members in the performance of these services and agree that (1) LinkedIn is not responsible for the offering, performance or procurement of these services, (2) LinkedIn does not endorse any particular Member’s offered services, and (3) nothing shall create an employment, agency, or joint venture relationship between LinkedIn and any Member offering services. If you are a Member offering services, you represent and warrant that you have all the required licenses and will provide services consistent with our Professional Community Policies.

Similarly, LinkedIn may help you register for and/or attend events organized by Members and connect with other Members who are attendees at such events. You agree that (1) LinkedIn is not responsible for the conduct of any of the Members or other attendees at such events, (2) LinkedIn does not endorse any particular event listed on our Services, (3) LinkedIn does not review and/or vet any of these events, and (4) that you will adhere to these terms and conditions that apply to such events.

3.4 Limits
We have the right to limit how you connect and interact on our Services.
LinkedIn reserves the right to limit your use of the Services, including the number of your connections and your ability to contact other Members. LinkedIn reserves the right to restrict, suspend, or terminate your account if you breach this Contract or the law or are misusing the Services (e.g., violating any of the Dos and Don’ts or Professional Community Policies).

3.5 Intellectual Property Rights
We’re providing you notice about our intellectual property rights.
LinkedIn reserves all of its intellectual property rights in the Services. Trademarks and logos used in connection with the Services are the trademarks of their respective owners. LinkedIn, and “in” logos and other LinkedIn trademarks, service marks, graphics and logos used for our Services are trademarks or registered trademarks of LinkedIn.

3.6 Automated Processing
We use data and information about you to make relevant suggestions to you and others.
We use the information and data that you provide and that we have about Members to make recommendations for connections, content and features that may be useful to you. For example, we use data and information about you to recommend jobs to you and you to recruiters. Keeping your profile accurate and up to date helps us to make these recommendations more accurate and relevant. Learn More

Key Terms
4. Disclaimer and Limit of Liability
4.1 No Warranty
This is our disclaimer of legal liability for the quality, safety, or reliability of our Services.
LINKEDIN AND ITS AFFILIATES MAKE NO REPRESENTATION OR WARRANTY ABOUT THE SERVICES, INCLUDING ANY REPRESENTATION THAT THE SERVICES WILL BE UNINTERRUPTED OR ERROR-FREE, AND PROVIDE THE SERVICES (INCLUDING CONTENT AND INFORMATION) ON AN “AS IS” AND “AS AVAILABLE” BASIS. TO THE FULLEST EXTENT PERMITTED UNDER APPLICABLE LAW, LINKEDIN AND ITS AFFILIATES DISCLAIM ANY IMPLIED OR STATUTORY WARRANTY, INCLUDING ANY IMPLIED WARRANTY OF TITLE, ACCURACY OF DATA, NON-INFRINGEMENT, MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

4.2 Exclusion of Liability
These are the limits of legal liability we may have to you.
TO THE FULLEST EXTENT PERMITTED BY LAW (AND UNLESS LINKEDIN HAS ENTERED INTO A SEPARATE WRITTEN AGREEMENT THAT OVERRIDES THIS CONTRACT), LINKEDIN, INCLUDING ITS AFFILIATES, WILL NOT BE LIABLE IN CONNECTION WITH THIS CONTRACT FOR LOST PROFITS OR LOST BUSINESS OPPORTUNITIES, REPUTATION (E.G., OFFENSIVE OR DEFAMATORY STATEMENTS), LOSS OF DATA (E.G., DOWN TIME OR LOSS, USE OF, OR CHANGES TO, YOUR INFORMATION OR CONTENT) OR ANY INDIRECT, INCIDENTAL, CONSEQUENTIAL, SPECIAL OR PUNITIVE DAMAGES.

LINKEDIN AND ITS AFFILIATES WILL NOT BE LIABLE TO YOU IN CONNECTION WITH THIS CONTRACT FOR ANY AMOUNT THAT EXCEEDS (A) THE TOTAL FEES PAID OR PAYABLE BY YOU TO LINKEDIN FOR THE SERVICES DURING THE TERM OF THIS CONTRACT, IF ANY, OR (B) US $1000.

4.3 Basis of the Bargain; Exclusions
The limitations of liability in this Section 4 are part of the basis of the bargain between you and LinkedIn and shall apply to all claims of liability (e.g., warranty, tort, negligence, contract and law) even if LinkedIn or its affiliates has been told of the possibility of any such damage, and even if these remedies fail their essential purpose.

These limitations of liability do not apply to liability for death or personal injury or for fraud, gross negligence or intentional misconduct, or in cases of negligence where a material obligation has been breached, a material obligation being such which forms a prerequisite to our delivery of services and on which you may reasonably rely, but only to the extent that the damages were directly caused by the breach and were foreseeable upon conclusion of this Contract and to the extent that they are typical in the context of this Contract.

5. Termination
We can each end this Contract, but some rights and obligations survive.
Both you and LinkedIn may terminate this Contract at any time with notice to the other. On termination, you lose the right to access or use the Services. The following shall survive termination:

Our rights to use and disclose your feedback;
Members and/or Visitors’ rights to further re-share content and information you shared through the Services;
Sections 4, 6, 7, and 8.2 of this Contract;
Any amounts owed by either party prior to termination remain owed after termination.
You can visit our Help Center to close your account.

6. Governing Law and Dispute Resolution
In the unlikely event we end up in a legal dispute, depending on where you live, you and LinkedIn agree to resolve it in California courts using California law, Dublin, Ireland courts using Irish law, or in your local courts using local law.
If you live in the Designated Countries, the laws of Ireland govern all claims related to LinkedIn's provision of the Services, but this shall not deprive you of the mandatory consumer protections under the law of the country to which we direct your Services where you have habitual residence. With respect to jurisdiction, you and LinkedIn agree to choose the courts of the country to which we direct your Services where you have habitual residence for all disputes arising out of or relating to this User Agreement, or in the alternative, you may choose the responsible court in Ireland.

If you are a business user within the scope of Article 6(12) of the EU Digital Markets Act (“DMA”) and have a dispute arising out of or in connection with Article 6(12) of the DMA, you may also utilize the alternative dispute resolution mechanism available in the Help Center.

For others outside of Designated Countries, including those who live outside of the United States: You and LinkedIn agree that the laws of the State of California, U.S.A., excluding its conflict of laws rules, shall exclusively govern any dispute relating to this Contract and/or the Services. You and LinkedIn both agree that all claims and disputes can be litigated only in the federal or state courts in Santa Clara County, California, USA, and you and LinkedIn each agree to personal jurisdiction in those courts

7. General Terms
Here are some important details about the Contract.
If a court with authority over this Contract finds any part of it unenforceable, you and we agree that the court should modify the terms to make that part enforceable while still achieving its intent. If the court cannot do that, you and we agree to ask the court to remove that unenforceable part and still enforce the rest of this Contract.

This Contract (including additional terms that may be provided by us when you engage with a feature of the Services) is the only agreement between us regarding the Services and supersedes all prior agreements for the Services.

If we don't act to enforce a breach of this Contract, that does not mean that LinkedIn has waived its right to enforce this Contract. You may not assign or transfer this Contract (or your membership or use of Services) to anyone without our consent. However, you agree that LinkedIn may assign this Contract to its affiliates or a party that buys it without your consent. There are no third-party beneficiaries to this Contract.

You agree that the only way to provide us legal notice is at the addresses provided in Section 10.

8. LinkedIn “Dos and Don’ts”
LinkedIn is a community of professionals. This list of “Dos and Don’ts” along with our Professional Community Policies limit what you can and cannot do on our Services.
8.1. Dos
You agree that you will:

Comply with all applicable laws, including, without limitation, privacy laws, intellectual property laws, anti-spam laws, export control laws, tax laws, and regulatory requirements;
Provide accurate information to us and keep it updated;
Use your real name on your profile; and
Use the Services in a professional manner.
8.2. Don’ts
You agree that you will not:

Create a false identity on LinkedIn, misrepresent your identity, create a Member profile for anyone other than yourself (a real person), or use or attempt to use another’s account;
Develop, support or use software, devices, scripts, robots or any other means or processes (including crawlers, browser plugins and add-ons or any other technology) to scrape the Services or otherwise copy profiles and other data from the Services;
Override any security feature or bypass or circumvent any access controls or use limits of the Service (such as caps on keyword searches or profile views);
Copy, use, disclose or distribute any information obtained from the Services, whether directly or through third parties (such as search engines), without the consent of LinkedIn;
Disclose information that you do not have the consent to disclose (such as confidential information of others (including your employer));
Violate the intellectual property rights of others, including copyrights, patents, trademarks, trade secrets or other proprietary rights. For example, do not copy or distribute (except through the available sharing functionality) the posts or other content of others without their permission, which they may give by posting under a Creative Commons license;
Violate the intellectual property or other rights of LinkedIn, including, without limitation, (i) copying or distributing our learning videos or other materials or (ii) copying or distributing our technology, unless it is released under open source licenses; (iii) using the word “LinkedIn” or our logos in any business name, email, or URL except as provided in the Brand Guidelines;
Post anything that contains software viruses, worms, or any other harmful code;
Reverse engineer, decompile, disassemble, decipher or otherwise attempt to derive the source code for the Services or any related technology that is not open source;
Imply or state that you are affiliated with or endorsed by LinkedIn without our express consent (e.g., representing yourself as an accredited LinkedIn trainer);
Rent, lease, loan, trade, sell/re-sell or otherwise monetize the Services or related data or access to the same, without LinkedIn’s consent;
Deep-link to our Services for any purpose other than to promote your profile or a Group on our Services, without LinkedIn’s consent;
Use bots or other automated methods to access the Services, add or download contacts, send or redirect messages;
Monitor the Services’ availability, performance or functionality for any competitive purpose;
Engage in “framing,” “mirroring,” or otherwise simulating the appearance or function of the Services;
Overlay or otherwise modify the Services or their appearance (such as by inserting elements into the Services or removing, covering, or obscuring an advertisement included on the Services);
Interfere with the operation of, or place an unreasonable load on, the Services (e.g., spam, denial of service attack, viruses, gaming algorithms); and/or
Violate the Professional Community Policies or any additional terms concerning a specific Service that are provided when you sign up for or start using such Service, and the Bing Maps terms where applicable.
9. Complaints Regarding Content
Contact information for complaint about content provided by our Members.
We respect the intellectual property rights of others. We require that information posted by Members be accurate and not in violation of the intellectual property rights or other rights of third parties. We provide a policy and process for complaints concerning content posted by our Members.'''

linkedin_json = GenerateScoreAndSummary(linkedin_tnc)

linkedin_json

# num_array=['1/10','2/10','3/10','4/10','5/10','6/10','7/10','8/10','9/10']
# for nums in num_array:
#   if nums in last_rep:
#     index2= last_rep[index:].find(nums)
#     break

hades_tnc='''Agreement for Use of Services Provided by HADES for Demo

Effective Date: 13th October 2024

This document sets forth the binding terms and conditions (hereinafter referred to as the “Agreement”) for the use of all products, services, and related materials (hereinafter collectively referred to as the “Services”) made available by HADES (hereinafter referred to as “Company,” “we,” “us,” or “our”). By accessing or using any portion of the Services, you (hereinafter referred to as “User,” “you,” or “your”) accept all provisions of this Agreement in full, with no reservations or exceptions. Any continued use of the Services following any amendments or modifications to this Agreement shall constitute your acknowledgment and acceptance of such changes.

1. Collection of Information
The Company reserves the exclusive right to gather, store, and manage any data, including, but not limited to, identifying personal details, preferences, financial information, and interactions with the Services (hereinafter referred to as “Information”). The Company may use this Information in any manner it deems appropriate, including sharing, selling, or distributing it to third parties, affiliates, or partners without notification or restriction. The Company is under no obligation to inform you about the nature, extent, or purpose of the data collection.

You agree that any and all information provided by you, knowingly or unknowingly, shall be processed by the Company without requiring additional consent beyond your acceptance of this Agreement. Furthermore, the Company may retain such Information indefinitely and is not required to delete, anonymize, or modify said data upon request.

2. Consent and Permissions
Your use of the Services constitutes continuous, irrevocable consent to the collection and use of Information by the Company. This consent is granted indefinitely, and you understand that no mechanism will be provided to revoke such consent once it has been given. By agreeing to these terms, you relinquish any and all rights under applicable privacy laws, including any right to be informed, the right to access your data, or the right to have your data erased.

3. Safeguarding and Duration of Data Storage
The Company does not guarantee the safety, security, or confidentiality of any Information you provide. While the Company may implement data security measures at its sole discretion, it is not liable for any breach, unauthorized access, or theft of data by third parties. In the event of a security incident, you acknowledge and agree that the Company bears no responsibility and will not offer compensation or remedies for any damages or losses incurred.

Data will be retained for as long as the Company finds necessary, and such retention may continue even after you cease using the Services.

4. Responsibilities and Obligations
You agree to assume full legal and financial responsibility for any claims, damages, costs, or liabilities arising from your use of the Services. This includes, but is not limited to, any third-party claims, legal disputes, or regulatory actions. You further agree to defend, indemnify, and hold harmless the Company, its directors, employees, affiliates, and agents from any claim arising from your conduct, your breach of this Agreement, or your violation of any law or the rights of a third party.

This obligation to indemnify the Company remains in effect indefinitely, regardless of the termination or cessation of your use of the Services.

5. Exclusion of Accountability
To the fullest extent permitted by applicable law, the Company shall not be held liable for any direct, indirect, incidental, special, punitive, or consequential damages, including but not limited to loss of data, financial loss, personal injury, or any harm caused by the use or inability to use the Services. This exclusion applies whether or not the Company was advised of the possibility of such damages.

The Company shall not be held responsible for any errors, interruptions, or issues related to the Services, nor will it provide compensation for any consequences resulting from these occurrences. Your exclusive remedy in the event of dissatisfaction with the Services is to discontinue use of the Services.

6. Third-Party Interactions
The Services may provide access to third-party resources, including websites, content, and other services not controlled by the Company (hereinafter referred to as “Third-Party Entities”). You acknowledge that the Company has no responsibility for and makes no representations or warranties regarding the availability, functionality, legality, or content of Third-Party Entities. You assume full responsibility for any interactions, transactions, or engagements with such entities and agree that the Company bears no liability for any resulting issues or damages.

7. Jurisdiction and Dispute Management
This Agreement shall be governed and construed in accordance with the laws of the Company’s jurisdiction, without regard to conflict-of-laws provisions. Any disputes, claims, or actions arising under or related to this Agreement shall be resolved exclusively by the courts of the Company’s jurisdiction, and you hereby consent to the personal jurisdiction of such courts.

Should any term or provision of this Agreement be held unenforceable or invalid by a court of competent jurisdiction, such provision shall be deemed severable, and the remaining terms and provisions shall continue in full force and effect.

8. Changes to These Terms
The Company reserves the right to modify, alter, or amend this Agreement at any time and without prior notice. Any updates or revisions will become effective immediately upon posting on the relevant platform or website. You are responsible for reviewing this Agreement periodically to stay informed of any modifications. Your continued use of the Services after any such modifications shall constitute your acceptance of the updated Agreement.'''

def GenerateScoreAndSummary(tnc_doc):
    YOUR_API_KEY = "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"
    messages = [
        {
            "role": "system",
            "content": (
                '''
                based on GDPR (General Data Protection Regulation) https://gdpr-info.eu/issues/personal-data/ ,
                data privacy, indemnity, responsibility of liability decide if the terms of conditions are good or not. assign a score and summarize the
                problems in the terms and conditions.
                Output Objective: You must generate the output as follows:
                1 ) Mean Risk Score (give in whole numbers only)
                2) Summarize the problems in terms and conditions and tell what is wrong. Only tell if something is actually wrong.
                '''
            ),
        },
        {
            "role": "user",
            "content": tnc_doc,
        },
    ]

    client = OpenAI(api_key=YOUR_API_KEY, base_url="https://api.perplexity.ai")

    # Legal keywords
    positive_keywords = ["Compliant", "Permissible", "Authorized", "Lawful", "Protected", "Valid", "Enforceable", "Secured", "Legitimate", "Fair"]
    negative_keywords = ["Unlawful", "Breach", "Violation", "Unauthorized", "Infringement", "Liability", "Prohibited", "Invalid", "Dispute", "Non-compliant"]

    last_response_text = ""
    response_stream = client.chat.completions.create(
        model="llama-3.1-sonar-small-128k-chat",
        messages=messages,
        stream=True,
    )

    response_array = []
    for response in response_stream:
        response_array.append(response)

    last_rep = str(response_array[-1])
    index = last_rep.find("###")
    end_ind = last_rep[index:].find("\\n")

    # Extract the score
    score_text = last_rep[index + 21:index + end_ind].strip()  # Trim whitespace
    try:
        # Check if score_text is valid
        if score_text.isdigit():  # Check if the string contains only digits
            percentage = int(score_text) * 10
        else:
            raise ValueError(f"Invalid score text: {score_text}")
    except Exception as e:
        print(f"Error extracting score: {e}")
        percentage = 0  # Default to 0 or some other handling

    tnc_start_index = last_rep[index + end_ind:].find("\\n")
    summarizer = pipeline("summarization", model="t5-small")
    outputs = summarizer(last_rep[index + end_ind + tnc_start_index:], max_length=100, clean_up_tokenization_spaces=True)

    positive_entities = custom_ner(tnc_doc, positive_keywords)
    pi = len(pd.DataFrame(positive_entities))
    negative_entities = custom_ner(tnc_doc, negative_keywords)
    ni = len(pd.DataFrame(negative_entities))
    score_factor = (pi - ni) / (pi + ni) + 1

    output_json = {
        "score": percentage * score_factor,
        "short_summary": outputs[0]["summary_text"].replace('. ', '.\n'),
        "long_summary": last_rep[index + 31:],
    }

    return output_json

hades_json = GenerateScoreAndSummary(hades_tnc)

hades_json

index2

last_rep[index:]

airbnb_json= GenerateScoreAndSummary(airbnb)

airbnb_json["score"]

airbnb_json["short_summary"]

airbnb_json["long_summary"]

temu_json = GenerateScoreAndSummary(temu_tnc)

temu_json["score"]

temu_json["short_summary"]

temu_json["long_summary"]

temu_json

meta_tnc='''Terms of Service
For messaging, voice and video calling services included in Meta Products, please click here for a contract summary and here for other information required by the European Electronic Communications Code.


Meta builds technologies and services that enable people to connect with each other, build communities, and grow businesses. These Terms of Service (the "Terms") govern your use of Facebook, Messenger, and the other products, features, apps, services, technologies, and software we offer (the Meta Products or Products), except where we expressly state that separate terms (and not these) apply. If we show you ads on Meta Products, these Terms also govern how Meta uses information to show you ads that businesses and organizations pay us to promote. These Products are provided to you by Meta Platforms Ireland Limited. These Terms therefore constitute an agreement between you and Meta Platforms Ireland Limited.

Our Products enable you to connect with your friends and communities and to receive personalized content and ads (if we show you ads on Meta Products) that we think may be relevant to you and your interests.

If you use our Products for free with ads, we don’t charge you to use our Products and services covered by these Terms, unless we state otherwise. Instead, businesses, organizations, and other persons pay us to show you ads for their products and services. We show you ads that we think may be relevant to you and we use your information to help determine which ads to show you. You can also choose to subscribe to use our Products without ads. See Section 2 below to learn more about how advertising works on the Meta Products.

Our Privacy Policy explains how we collect and use your information, including to determine the ads you see if you choose to use our Products for free with ads, and provide the Meta Products described below. You can also go to your settings pages of the relevant Meta Product at any time to review the privacy choices you have about how we use your information.

Return to top
1. The services we provide
Our mission is to give people the power to build community and bring the world closer together. To help advance this mission, we provide the Products described below to you:
Provide, personalize and improve our Products:
Your experience on Facebook is unique to you and unlike anyone else's: from the posts, stories, events, ads (if we show you ads on Meta Products) and other content you see in Facebook News Feed or our video platform to the Facebook Pages you follow and other features you might use, such as Facebook Marketplace, and search. For example, we use information about the connections you make, the choices and settings you select, and what you share and do on and off our Products to personalize your experience.
For more information about how we use information to provide you with a personalised experience, please review our Privacy Policy.
We help you find and connect with people, groups, businesses, organizations and others that matter to you across the Meta Products you use. We use the information we have to make suggestions for you – for example, groups to join, events to attend, Facebook Pages to follow or send a message to, shows to watch and people you may want to become friends with. Stronger ties make for better communities, and we believe that our Products are most useful when people are connected to people, groups and organizations that they care about. We want the content and suggestions that you see on Facebook to be as interesting and valuable to you as possible. Please see our Recommender Systems’ System Cards for information on how our various recommender systems prioritize signals to determine which content and suggestions to show you, as well as options for customizing your experience.
To help you discover content, products and services that may interest you, we show you offers and other sponsored or commercial content to help you discover content, products and services that are offered by the many businesses and organizations that use Facebook and other Meta Products.
Section 2 below explains this in more detail.
Our Products provide many ways to express yourself or communicate with friends, family, and others about what matters to you - for example, sharing status updates, photos, videos, and stories across the Meta Products (consistent with your settings), sending messages or making voice or video calls to a friend or several people, creating events or groups, or adding content to your profile as well as showing you insights on how others engage with your content. We have also developed, and continue to explore, new ways for people to use technology, such as augmented reality and 360 video to create and share more expressive and engaging content on Meta Products.
We engage in research to develop, test and improve our Products. This includes analyzing information that we have about our users, and understanding how people use our Products, for example by conducting surveys and testing and troubleshooting new features. We use and develop advanced technologies such as artificial intelligence, machine learning systems and augmented reality so that people can use our Products safely regardless of physical ability or geographic location. For example, technology such as this helps people who have visual impairments understand what or who is in photos or videos shared on Facebook. We also build sophisticated network and communication technology to help more people connect to the Internet in areas with limited access. And we develop automated systems to improve our ability to protect our community and our Products.
For more information about how we use your information to provide, develop and improve Meta Products, please review our Privacy Policy.
Promote the safety, security, and integrity of our Products, combat harmful conduct and keep our community of users safe:
People will only build community on Meta Products if they feel safe and secure. We work hard to maintain the security (including the availability, authenticity, integrity, and confidentiality) of our Products and services. We employ dedicated teams around the world, work with external service providers, partners and other relevant entities, and develop advanced technical systems to detect potential misuse of our Products, harmful conduct towards others, and situations where we may be able to help support or protect our community, including to respond to user reports of potentially violating content. If we learn of content or conduct like this, we will take appropriate action that may include notifying you, offering help, removing or restricting content, removing or restricting access to certain features, disabling an account, or contacting law enforcement. Learn more about the restrictions we may impose on the use of Facebook, including information on how we apply our content policies, procedures, measures and tools here. We share information data with other Meta Companies when we detect misuse or harmful conduct by someone using one of our Products or to help keep Meta Products, users and the community safe. For example, we share information with Meta Companies that provide financial products and services to help them promote safety, security and integrity and comply with applicable law. Meta may access, preserve, use and share any information it collects about you where it has a good faith belief it is required or permitted by law to do so. For more information, please review our Privacy Policy.
In some cases, the Oversight Board may review our decisions, subject to its terms and bylaws. Learn more here.
Provide consistent and seamless experiences across the Meta Company Products, outside of our contract with you:
We design our systems so that your experience is consistent and seamless across the different Meta Company Products that you use depending on your choices. For example, we use information about the people you engage with on Facebook to make it easier for you to connect with them on Messenger, and we enable you to communicate with a business you follow on Facebook through Messenger.
Communicating with you:
We may need to send you communications, like emails or in-product notices, to respond to you or inform you about any product-related issues, research, or our terms and policies. For more information, please review our Privacy Policy.
Ensuring access to our Products:
To operate our global services and enable you to connect with people around the world, we need to transfer, store and distribute content and data to our data centers, partners, service providers, vendors and systems around the world, including outside your country of residence. The use of this global infrastructure is necessary and essential to provide our Products. This infrastructure may be owned, operated, or controlled by Meta Platforms, Inc., Meta Platforms Ireland Limited, or its affiliates. For more information about how we transfer, store or process your information, please review our Privacy Policy.
Return to top
2. How our services are funded
You can choose to use our Products for free with ads or to subscribe to use without ads:
If you choose to use our Products for free with ads, you allow us to show you ads that businesses and organizations pay us to promote on and off the Meta Products.
If you choose to subscribe to use our Products without ads, you won’t see ads from us and we do not use your data for ads. The details of price, currency and payment period for the subscription for no ads will be provided to you before you complete your purchase.
Protecting people's privacy is central to how we've designed our ads system. If we show you ads on Meta Products, we show you relevant and useful ads without telling advertisers who you are. We don't sell your personal information and we don't share information that directly identifies you (such as your name, email address or other contact information) with advertisers unless you give us specific permission. Instead, we allow advertisers to tell us things like their business goal, and the kind of audience they want to see their ads (for example, people between the age of 18-35 who live close to the advertiser’s store in Portugal). We then show their ad to people who we think might find it relevant.
We also provide advertisers with reports about the performance of their ads to help them understand how people are interacting with their content on and off Meta Products. For example, we provide general demographic and interest information to advertisers to help them better understand their audience, like the fact that women between the ages of 25 and 34 who live in Madrid and like software engineering have seen an ad. We don’t share information that directly identifies you (information such as your name or email address that by itself can be used to contact you or identifies who you are) unless you give us specific permission. Learn more about how Meta ads work here.
You can learn about how we collect and use your information in our Privacy Policy, including more detail on the different types of information we use to show you ads (if we show you ads on Meta Products). You have controls over the types of ads and advertisers you see, and the types of information we use to determine which ads we show you. Learn more.
Return to top
3. Your commitments to Facebook and our community
We provide these services to you and others to help advance our mission. In exchange, we need you to make the following commitments:
1. Who can use Facebook
When people stand behind their opinions and actions, our community is safer and more accountable. For this reason, you must:
Provide for your account the same name that you use in everyday life.
Provide accurate information about yourself.
Create only one account (your own) and use it for personal purposes.
Not share your password, give access to your Facebook account to others, or transfer your account to anyone else (without our permission).
We try to make Facebook broadly available to everyone, but you cannot use Facebook if:
You are under 13 years old.
You are a convicted sex offender.
We've previously disabled your account for breaches of our Terms, the Community Standards, or terms and policies that apply to your use of Facebook. If we disable your account for a violation of our Terms, the Community Standards, or other terms and policies, you agree not to create another account without our permission. Receiving permission to create a new account is provided at our sole discretion, and does not mean or imply that the disciplinary action was wrong or without cause.
You are prohibited from receiving our products, services, or software under applicable laws.
2. What you can share and do on Meta Products
We want people to use Meta Products to express themselves and to share content that is important to them, but not at the expense of the safety and well-being of others or the integrity of our community. You therefore agree not to engage in the conduct described below (or to facilitate or support others in doing so):
You may not use our Products to do or share anything:
That breaches these Terms, the Community Standards, and other terms and policies that apply to your use of our Products.
That is unlawful, misleading, discriminatory, or fraudulent (or assists someone else in using our Products in such a way).
That you do not own or have the necessary rights to share.
That infringes or breaches someone else's rights, including their intellectual property rights (such as by infringing another’s copyright or trademark, or distributing or selling counterfeit or pirated goods), unless an exception or limitation applies under applicable law.
You may not upload viruses or malicious code, use the services to send spam, or do anything else that could disable, overburden, interfere with, or impair the proper working, integrity, operation, or appearance of our services, systems, or Products.
You may not access or collect data from our Products using automated means (without our prior permission) or attempt to access data you do not have permission to access. We also reserve all of our rights against text and data mining.
You may not proxy, request, or collect Product usernames or passwords, or misappropriate access tokens.
You may not sell, license, or purchase any data obtained from us or our services, except as provided in the Platform Terms.
You may not misuse any reporting, flagging, dispute, or appeals channel, such as by making fraudulent, duplicative, or groundless reports or appeals. Learn more about our policy on frequent submission of manifestly unfounded reports and complaints in our Misuse Policy.
We can remove, block or restrict content that is in breach of these provisions. We can also suspend or disable your account for conduct that violates these provisions, as provided in Section 4.2.
If we remove, block or restrict content that you have shared for violation of the Community Standards we’ll let you know and explain any options you have to request another review, unless you seriously or repeatedly violate these Terms or if doing so may expose us or others to legal liability; harm our community of users; compromise or interfere with the integrity or operation of any of our services, systems or Products; where we are restricted due to technical limitations; or where we are prohibited from doing so for legal reasons. For information on account suspension or termination, see Section 4.2 below.
To help support our community, we encourage you to report content or conduct that you believe breaches your rights (including intellectual property rights) or our terms and policies if this feature exists in your jurisdiction.
We also can remove, block or restrict access to content, features, services or information if we determine that doing so is reasonably necessary to avoid or mitigate misuse of our services or adverse legal or regulatory impacts to Meta.
Learn more about our Complaints Handling Process here.
3. The permissions you give us
We need certain permissions from you to provide our services:
Permission to use content you create and share: Some content that you share or upload, such as photos or videos, may be protected by intellectual property laws.
You retain ownership of the content that you create and share on Facebook and other Meta Company Products you use, and nothing in these Terms takes away the rights you have to your own content. You are free to share your content with anyone else, wherever you want. To provide our services, though, we need you to give us some legal permissions to use that content.
However, to provide our services we need you to give us some legal permissions (known as a "license") to use this content. This is solely for the purposes of providing and improving our Products and services as described in Section 1 above.
Specifically, when you share, post, or upload content that is covered by intellectual property rights on or in connection with our Products, you grant us a non-exclusive, transferable, sub-licensable, royalty-free, and worldwide license to host, use, distribute, modify, run, copy, publicly perform or display, translate, and create derivative works of your content (consistent with your privacy and application settings). This means, for example, that if you share a photo on Facebook, you give us permission to store, copy, and share it with others (again, consistent with your settings) such as Meta Products or service providers that support those products and services. This license will end when your content is deleted from our systems.
You can delete individual content you share, post, and upload at any time. In addition, all content posted to your personal account will be deleted if you delete your account. Learn more about how to delete your account. Account deletion does not automatically delete content that you post as an admin of a page or content that you create collectively with other users, such as photos in Shared Albums which may continue to be visible to other album members.
It may take up to 90 days to delete content after we begin the account deletion process or receive a content deletion request. If you send content to trash, the deletion process will automatically begin in 30 days unless you choose to delete the content sooner. While the deletion process for such content is being undertaken, the content is no longer visible to other users. After the content is deleted, it may take us up to another 90 days to remove it from backups and disaster recovery systems.
Content will not be deleted within 90 days of the account deletion or content deletion process beginning in the following situations:
where your content has been used by others in accordance with this license and they have not deleted it (in which case this license will continue to apply until that content is deleted);
where deletion within 90 days is not possible due to technical limitations of our systems, in which case, we will complete the deletion as soon as technically feasible; or
where immediate deletion would restrict our ability to:
investigate or identify illegal activity or violations of our terms and policies (for example, to identify or investigate misuse of our Products or systems);
protect the safety, integrity, and security of our Products, systems, services, and users, and to defend ourselves;
comply with legal obligations for the preservation of evidence, including data Meta Companies providing financial products and services preserve to comply with any record keeping obligations required by law; or
comply with a request of a judicial or administrative authority, law enforcement, or a government agency;
in which case, the content will be retained for no longer than is necessary for the purposes for which it has been retained (the exact duration will vary on a case-by-case basis).
In each of the above cases, this license will continue until the content has been fully deleted.
Permission to use your name, profile picture, and information about your actions with ads (if we show you ads on Meta Products) and sponsored or commercial content: Your name and profile picture and information about actions you have taken on Facebook can be used next to or in connection with ads, offers, and other sponsored or commercial content that we display across our Products, without any compensation to you. For example, we may show your friends that you are interested in an advertised event or have liked a Facebook Page created by a brand that has paid us to display its ads on Facebook. Ads and content like this can be seen only by people who have your permission to see the actions you've taken on Meta Products. You can learn more about your ad settings and preferences.
Permission to update software you use or download: If you download or use our software, you give us permission to download and install updates to the software where available.
4. Limits on using our intellectual property
If you use content covered by intellectual property rights that we have and make available in our Products (for example, images, designs, videos, or sounds we provide that you add to content you create or share on Facebook), we retain all rights to that content (but not yours). You can only use our copyrights or trademarks (or any similar marks) as expressly permitted by our Brand Usage Guidelines or with our prior written permission. You must obtain our written permission (or permission under an open source license) to modify, translate, create derivative works of, decompile, or reverse engineer our products or their components, or otherwise attempt to extract source code from us, unless an exception or limitation applies under applicable law or your conduct relates to the Meta Bug Bounty Program.
Return to top
4. Additional provisions
1. Updating our Terms
We work constantly to improve our services and develop new features to make our Products better for you and our community. As a result, we may need to update these Terms from time to time to accurately reflect our services and practices to promote a safe and secure experience on our Products and services, and/or to comply with applicable law. We will only make any changes if the provisions are no longer appropriate or if they are incomplete, and only if the changes are reasonable and take due account of your interests or if the changes are required for safety and security purposes or to comply with applicable law.
We will notify you (for example, by email or through our Products) at least 30 days before we make changes to these Terms and give you an opportunity to review them before they go into effect, unless the changes are required by law. Once any updated Terms are in effect, you will be bound by them if you continue to use our Products.
We hope that you will continue using our Products, but if you do not agree to our updated Terms and no longer want to be a part of the Meta community, you can delete your account at any time.
2. Account suspension or termination
We want Facebook to be a place where people feel welcome and safe to express themselves and share their thoughts and ideas.
If we determine that you have clearly, seriously or repeatedly breached our Terms or Policies, including in particular the Community Standards, we may suspend or permanently disable your access to Meta Company Products, and we may permanently disable or delete your account. We may also disable or delete your account if you repeatedly infringe other people’s intellectual property rights or where we are required to do so for legal reasons. Learn more about how we deal with repeated violations of our content policies here; and our Misuse Policy on frequent provision of manifestly illegal content is set out here.
We may disable or delete your account if after registration your account is not confirmed, your account is unused and remains inactive for an extended period of time, or if we detect someone may have used it without your permission and we are unable to confirm your ownership of the account. Learn more about how we disable and delete accounts.
Where we take such action we’ll let you know and explain any options you have to request a review, unless doing so may expose us or others to legal liability; harm our community of users; compromise or interfere with the integrity or operation of any of our services, systems or Products; where we are restricted due to technical limitations; or where we are prohibited from doing so for legal reasons. Learn more about our Complaints Handling Process here.
You can learn more about what you can do if your account has been disabled and how to contact us if you think we have disabled your account by mistake.
If you delete or we disable or delete your account, these Terms shall terminate as an agreement between you and us, but the following provisions will remain in place: 3.3.1, 4.2-4.5.
3. Limits on liability
Nothing in these Terms is intended to exclude or limit our liability for death, personal injury or fraudulent misrepresentation caused by our negligence, or to affect your statutory rights.
We will exercise professional diligence in providing our Products and services to you and in keeping a safe, secure and error-free environment. Provided that we have acted with professional diligence, we do not accept responsibility for losses not caused by our breach of these Terms or otherwise by our acts; losses that are not reasonably foreseeable by you and us at the time of entering into these Terms; and events beyond our reasonable control.
4. Disputes
If a claim or dispute arises out of or relates to your use of the Meta Products as a consumer, both you and us agree that you may resolve your individual claim or dispute against us, and we may resolve our claim or dispute against you, in any competent court in the country of your main residence that has jurisdiction over your claim or dispute, and the laws of that country will apply without regard to conflict of law provisions.
If a claim or dispute arises between us that relates to use of the Meta Products in any other capacity, including, but not limited to, access or use of the Meta Products for a business or commercial purpose, or that an entity brings on your behalf, you agree that any such claim or dispute must be resolved in a competent court in Ireland and Irish law will apply to such claim or dispute without regard to conflict of law provisions.
5. Other
These Terms (formerly known as the Statement of Rights and Responsibilities) make up the entire agreement between you and Meta Platforms Ireland Limited regarding your use of our Products. They supersede any prior agreements.
Some of the Products we offer are also governed by supplemental terms. If you use any of these Products, you will be provided with an opportunity to agree to supplemental terms that will become part of our agreement with you. For instance, if you access or use our Products for commercial or business purposes, such as buying ads, selling products, developing apps, managing a group or Page for your business, or using our measurement services, you must agree to our Commercial Terms. If you post or share content containing music, you must comply with our Music Guidelines. If you have a subscription for no ads, then the No Ads Terms also apply. To the extent any supplemental terms conflict with these Terms, the supplemental terms shall govern to the extent of the conflict.
If any portion of these Terms is found to be unenforceable, the unenforceable portion will be deemed amended to the minimum extent necessary to make it enforceable, and if it can’t be made enforceable, then it will be severed and the remaining portion will remain in full force and effect. If we fail to enforce any of these Terms, it will not be considered a waiver. Any amendment to or waiver of these Terms must be made in writing and signed by us.
You will not transfer any of your rights or obligations under these Terms to anyone else without our consent.
You may designate a person (called a legacy contact) to manage your account if it is memorialized. If you enable it in your settings, only your legacy contact or a person who you have identified in a valid will or similar legal document expressing clear consent to disclose your content to that person upon death or incapacity will be able to seek limited disclosure of information from your account after it is memorialized.
These Terms do not confer any third-party beneficiary rights. All of our rights and obligations under these Terms are freely assignable by us in connection with a merger, acquisition, or sale of assets, or by operation of law or otherwise.
We may need to change the username for your account in certain circumstances (for example, if someone else claims the username and it appears unrelated to the name you use in everyday life).
We always appreciate your feedback and other suggestions about our products and services. But we may use feedback and other suggestions without any restriction or obligation to compensate you, and we are under no obligation to keep them confidential.
If the ownership or control of all or part of our Products or their assets changes, this could result in a transfer of your information to the new owner.
Return to top
5. Other terms and policies that may apply to you
Community Standards: These guidelines outline our standards regarding the content you post to Facebook and your activity on Facebook and other Meta Products.
How we apply our content policies: This provides information on the restrictions we may impose on the use of Facebook, including information on how we apply our content policies, procedures, measures and tools.
Misuse Policy: This policy sets out how we may suspend access to Facebook where we determine that you have frequently provided manifestly illegal content, or suspend processing reports or complaints where we determine that you have frequently submitted manifestly unfounded reports or complaints. You can also learn more about how we deal with repeated violations of our content policies here.
Complaints Handling Process: This provides information on the rules of procedure of our internal complaints handling system.
Commercial Terms: These terms apply if you also access or use our Products for any commercial or business purpose, including advertising, operating an app on our Platform, using our measurement services, managing a group or a Page for a business, or selling goods or services.
Community Payment Terms: These terms apply to payments made on or through Meta Products.
Commerce Policies: These guidelines outline the policies that apply when you offer products or services for sale on Facebook, Instagram, and WhatsApp.
Music Guidelines: These guidelines outline the policies that apply if you post or share content containing music on any Meta Products.
Advertising Policies: These policies apply to partners who advertise across the Meta Products and specify what types of ad content are allowed by partners who advertise across the Meta Products.
No Ads Terms: These Terms apply if you have a subscription for no ads.
Self-Serve Ad Terms: These terms apply when you use self-serve advertising interfaces to create, submit, or deliver advertising or other commercial or sponsored activity or content.
Facebook Pages, Groups and Events Policy: These guidelines apply if you create or administer a Facebook Page, group, or event, or if you use Facebook to communicate or administer a promotion.
Meta Platform Policy: These terms apply to the use of the set of APIs, SDKs, tools, plugins, code, technology, content, and services that enables others to develop functionality, retrieve data from MetaProducts, or provide data to us.
Developer Payment Terms: These terms apply to developers of applications that use Facebook Payments.
Meta Brand Resources: These guidelines outline the policies that apply to use of Meta trademarks, logos, and screenshots.
Recommendations Guidelines: The Facebook Recommendations Guidelines and Instagram Recommendations Guidelines outline our standards for recommending and not recommending content.
Recommender Systems’ System Cards: This link sets out information on the main parameters of our recommender systems, as well as options for customizing your experience.
Live Policies: These policies apply to all content broadcast to Facebook Live.
Messaging services terms relevant for EU and EEA users: terms applicable to the messaging, voice and video calling services included in Facebook Products are listed here and here in accordance with EU rules.

Date of Last Revision: 12 January 2024'''

meta_json = GenerateScoreAndSummary(meta_tnc)

meta_json

import torch
print(torch.__version__)

